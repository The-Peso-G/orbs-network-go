package e2e

import (
	"context"
	"github.com/ethereum/go-ethereum/accounts/abi/bind"
	"github.com/ethereum/go-ethereum/common"
	"github.com/ethereum/go-ethereum/core/types"
	"github.com/ethereum/go-ethereum/crypto"
	"github.com/orbs-network/orbs-client-sdk-go/codec"
	"github.com/orbs-network/orbs-client-sdk-go/orbsclient"
	"github.com/orbs-network/orbs-network-go/crypto/keys"
	"github.com/orbs-network/orbs-network-go/instrumentation/log"
	"github.com/orbs-network/orbs-network-go/services/crosschainconnector/ethereum/adapter"
	"github.com/orbs-network/orbs-network-go/services/processor/native/repository/ASBEthereum"
	"github.com/orbs-network/orbs-network-go/services/processor/native/repository/ERC20Proxy"
	"github.com/orbs-network/orbs-network-go/test/builders"
	testKeys "github.com/orbs-network/orbs-network-go/test/crypto/keys"
	"github.com/stretchr/testify/require"
	"math/big"
	"os/exec"
	"testing"
	"time"
)

func TestAutonomousSwap_EthereumToOrbs(t *testing.T) {

	h := newHarness()
	lt := time.Now()
	printTestTime(t, "started", &lt)

	h.waitUntilTransactionPoolIsReady(t)
	printTestTime(t, "first block committed", &lt)
	d := newAutonomousSwapDriver(h)

	etherAmountBefore := big.NewInt(20)
	amountToTransfer := big.NewInt(17)

	d.generateOrbsAccount(t)

	d.deployTokenContractToEthereum(t)
	d.generateEthereumAccountAndAssignFunds(t, etherAmountBefore)

	//d.deployAutonomousSwapBridgeToEthereum(t)
	d.deployASBToEthereumUsingTruffle(t)
	d.bindOrbsAutonomousSwapBridgeToEthereum(t)

	d.approveTransferInEthereumTokenContract(t, amountToTransfer)
	transferOutTxHash := d.transferOutFromEthereum(t, amountToTransfer)
	t.Log("Eth tx hash", transferOutTxHash)

	// TODO v1 deploy causes who is owner - important for both.
	d.transferInToOrbs(t, transferOutTxHash)

	balanceAfterTransfer := d.getBalanceInOrbs(t)
	require.EqualValues(t, amountToTransfer.Uint64(), balanceAfterTransfer, "wrong amount of tokens in orbs")

	etherBalanceAfterTransfer := d.getBalanceInEthereum(t)
	require.EqualValues(t, etherAmountBefore.Sub(etherAmountBefore, amountToTransfer).Uint64(), etherBalanceAfterTransfer, "wrong amount of tokens left in ethereum")
}

type ethconfig struct{}

func (ethconfig) EthereumEndpoint() string {
	return "http://localhost:8545"
}

func newAutonomousSwapDriver(h *harness) *driver {
	ethereum := adapter.NewEthereumRpcConnection(&ethconfig{}, log.GetLogger())
	key, err := crypto.HexToECDSA("f2ce3a9eddde6e5d996f6fe7c1882960b0e8ee8d799e0ef608276b8de4dc7f19")
	if err != nil {
		panic(err)
	}
	opts := bind.NewKeyedTransactor(key)
	opts.GasLimit = 1234567890
	//opts.GasPrice = big.NewInt(1)

	return &driver{
		harness:                  h,
		ethereum:                 ethereum,
		addressInEthereum:        opts,
		orbsASBContractName:      asb_ether.CONTRACT_NAME,
		orbsContractOwnerAddress: testKeys.Ed25519KeyPairForTests(5),
	}
}

type driver struct {
	ethereum *adapter.EthereumRpcConnection

	orbsContractOwnerAddress *keys.Ed25519KeyPair
	orbsASBContractName      string
	orbsUser                 *orbsclient.OrbsAccount
	orbsUserAddress          [20]byte
	orbsUserKeyPair          *keys.Ed25519KeyPair

	addressInEthereum *bind.TransactOpts // we use a single address for both the "admin" stuff like deploying the contracts and as our swapping user, so as to simplify setup - otherwise we'll need to create two PKs in the simulator

	erc20contract  *bind.BoundContract
	erc20address   *common.Address
	ethASBAddress  *common.Address
	ethASBContract *bind.BoundContract
	harness        *harness
}

// orbs side funcs
func (d *driver) generateOrbsAccount(t *testing.T) {
	orbsUser, err := orbsclient.CreateAccount()
	require.NoError(t, err, "could not create orbs address")

	copy(d.orbsUserAddress[:], orbsUser.RawAddress)
	d.orbsUser = orbsUser
	d.orbsUserKeyPair = keys.NewEd25519KeyPair(orbsUser.PublicKey, orbsUser.PrivateKey)
}

func (d *driver) generateOrbsFunds(t *testing.T, amount *big.Int) {
	response, _, err := d.harness.sendTransaction(d.orbsContractOwnerAddress, erc20proxy.CONTRACT_NAME, "mint", d.orbsUser.RawAddress, amount.Uint64())
	requireSuccess(t, err, response, "mint transaction")
}

func (d *driver) getBalanceInOrbs(t *testing.T) uint64 {
	response, err := d.harness.callMethod(d.orbsContractOwnerAddress, erc20proxy.CONTRACT_NAME, "balanceOf", d.orbsUser.RawAddress)
	require.NoError(t, err, "failed sending  to Orbs")
	require.EqualValues(t, codec.EXECUTION_RESULT_SUCCESS, response.ExecutionResult, "failed getting balance in Orbs")
	return response.OutputArguments[0].(uint64)
}

func (d *driver) approveTransferInOrbsTokenContract(ctx context.Context, t *testing.T, amount *big.Int) {
	response, _, err := d.harness.sendTransaction(d.orbsContractOwnerAddress, erc20proxy.CONTRACT_NAME, "approve", d.addressInEthereum.From, amount.Uint64())
	requireSuccess(t, err, response, "approve transaction")
}

func (d *driver) bindOrbsAutonomousSwapBridgeToEthereum(t *testing.T) {
	response, _, err := d.harness.sendTransaction(d.orbsContractOwnerAddress, d.orbsASBContractName, "setAsbAddr", d.ethASBAddress.Hex())
	requireSuccess(t, err, response, "setAsbAddr transaction")
}

func (d *driver) transferInToOrbs(t *testing.T, transferOutTxHash string) {
	response, _, err := d.harness.sendTransaction(d.orbsContractOwnerAddress, d.orbsASBContractName, "transferIn", transferOutTxHash)
	requireSuccess(t, err, response, "transferIn in Orbs")
}

func (d *driver) transferOutFromOrbs(ctx context.Context, t *testing.T, amount *big.Int) {
	response, _, err := d.harness.sendTransaction(d.orbsContractOwnerAddress, d.orbsASBContractName, "transferOut", d.addressInEthereum.From.Bytes(), amount.Uint64())
	requireSuccess(t, err, response, "transferOut in Orbs")
}

func (d *driver) deployASBToEthereumUsingTruffle(t *testing.T) {
	path := "../../vendor/github.com/orbs-network/orbs-federation"
	//path := "/Users/shaiyallin/go/src/github.com/orbs-network/orbs-network-go/vendor/github.com/orbs-network/orbs-federation"

	output, err := exec.Command("yarn", "--cwd", path, "install").CombinedOutput()
	t.Log(string(output))
	require.NoError(t, err, "could yarn install")

	output, err = exec.Command("yarn", "--cwd", path, "build").CombinedOutput()
	t.Log(string(output))
	require.NoError(t, err, "could yarn build")

	output, err = exec.Command("yarn", "--cwd", path, "deploy").CombinedOutput()
	t.Log(string(output))
	require.NoError(t, err, "could yarn deploy")
}

// Ethereum related funcs
func (d *driver) deployAutonomousSwapBridgeToEthereum(t *testing.T) {
	_, _, err := d.ethereum.DeployEthereumContract(d.addressInEthereum, cryptoUtilsABI, cryptoUtilsABI)
	require.NoError(t, err, "could not deploy CryptoUtils to Ethereum")

	federationAddress, _, err := d.ethereum.DeployEthereumContract(d.addressInEthereum, federationABI, federationBytecode, []common.Address{common.BigToAddress(big.NewInt(1234))})
	require.NoError(t, err, "could not deploy federation to Ethereum")
	t.Log("Federation address", federationAddress.Hex())

	verifierAddress, _, err := d.ethereum.DeployEthereumContract(d.addressInEthereum, verifierABINoTuple, verifierByteCode, federationAddress)
	require.NoError(t, err, "could not deploy verifier to Ethereum")

	ethAsbAddress, ethAsbContract, err := d.ethereum.DeployEthereumContract(d.addressInEthereum, asbABI, asbByteCode, uint32(0), uint64(builders.DEFAULT_TEST_VIRTUAL_CHAIN_ID), //TODO CHANGE IN LEoNId,
		d.orbsASBContractName, d.erc20address, federationAddress, verifierAddress)
	require.NoError(t, err, "could not deploy asb to Ethereum")
	d.ethASBAddress = ethAsbAddress
	d.ethASBContract = ethAsbContract
}

func (d *driver) deployTokenContractToEthereum(t *testing.T) {
	ethTetAddress, ethTetContract, err := d.ethereum.DeployEthereumContract(d.addressInEthereum, tetABI, tetByteCode)
	require.NoError(t, err, "could not deploy erc token to Ethereum")
	d.erc20contract = ethTetContract
	d.erc20address = ethTetAddress
}

func (d *driver) generateEthereumAccountAndAssignFunds(t *testing.T, amount *big.Int) {
	ethContractUserAuth := d.addressInEthereum
	// we don't REALLY care who is the user we transfer from, so for simplicity's sake we use the same mega-user defined when simulator is created
	_, err := d.erc20contract.Transact(d.addressInEthereum, "assign", ethContractUserAuth.From /*address of user*/, amount)
	// generate token in source address
	require.NoError(t, err, "could not assign token to sender")
}

func (d *driver) getBalanceInEthereum(t *testing.T) uint64 {
	ethContractUserAuth := d.addressInEthereum
	// we don't REALLY care who is the user we transfer from, so for simplicity's sake we use the same mega-user defined when simulator is created
	var (
		ret0 = new(*big.Int)
	)
	result := ret0
	err := d.erc20contract.Call(nil, result, "balanceOf", ethContractUserAuth.From /*address of user*/)
	// generate token in source address
	require.NoError(t, err, "could not get token balance of user")
	return (*result).Uint64()
}

func (d *driver) approveTransferInEthereumTokenContract(t *testing.T, amount *big.Int) {
	tx, err := d.erc20contract.Transact(d.addressInEthereum, "approve", d.ethASBAddress, amount)
	require.NoError(t, err, "could not approve transfer")
	receipt, err := d.ethereum.Receipt(tx.Hash())
	require.NoError(t, err, "could not get receipt")
	require.EqualValues(t, types.ReceiptStatusSuccessful, receipt.Status, "call to approve on tet in Ethereum failed")

}

func (d *driver) transferOutFromEthereum(t *testing.T, amount *big.Int) string {
	transferOutTx, err := d.ethASBContract.Transact(d.addressInEthereum, "transferOut", d.orbsUserAddress, amount)
	require.NoError(t, err, "could not transfer out")

	receipt, err := d.ethereum.Receipt(transferOutTx.Hash())
	require.NoError(t, err, "could not get receipt")
	require.EqualValues(t, types.ReceiptStatusSuccessful, receipt.Status, "call to transferOut on ASB in Ethereum failed")

	return transferOutTx.Hash().Hex()
}

func requireSuccess(t *testing.T, err error, response *codec.SendTransactionResponse, description string) {
	require.NoError(t, err, "failed sending "+description)
	require.EqualValues(t, string(codec.EXECUTION_RESULT_SUCCESS), string(response.ExecutionResult), description+" execution failed")
}

const tetABI = `[{"constant":false,"inputs":[{"name":"spender","type":"address"},{"name":"value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"from","type":"address"},{"name":"to","type":"address"},{"name":"value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"spender","type":"address"},{"name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"spender","type":"address"},{"name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"to","type":"address"},{"name":"value","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"owner","type":"address"},{"name":"spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"constant":false,"inputs":[{"name":"_account","type":"address"},{"name":"_value","type":"uint256"}],"name":"assign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"}]`
const tetByteCode = "0x608060405234801561001057600080fd5b506111aa806100206000396000f300608060405260043610610099576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff168063095ea7b31461009e57806318160ddd1461010357806323b872dd1461012e57806339509351146101b357806370a0823114610218578063a457c2d71461026f578063a9059cbb146102d4578063be76048814610339578063dd62ed3e14610386575b600080fd5b3480156100aa57600080fd5b506100e9600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291905050506103fd565b604051808215151515815260200191505060405180910390f35b34801561010f57600080fd5b5061011861052a565b6040518082815260200191505060405180910390f35b34801561013a57600080fd5b50610199600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610534565b604051808215151515815260200191505060405180910390f35b3480156101bf57600080fd5b506101fe600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291905050506106e6565b604051808215151515815260200191505060405180910390f35b34801561022457600080fd5b50610259600480360381019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919050505061091d565b6040518082815260200191505060405180910390f35b34801561027b57600080fd5b506102ba600480360381019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610965565b604051808215151515815260200191505060405180910390f35b3480156102e057600080fd5b5061031f600480360381019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610b9c565b604051808215151515815260200191505060405180910390f35b34801561034557600080fd5b50610384600480360381019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610bb3565b005b34801561039257600080fd5b506103e7600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610bd3565b6040518082815260200191505060405180910390f35b60008073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415151561043a57600080fd5b81600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508273ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925846040518082815260200191505060405180910390a36001905092915050565b6000600254905090565b6000600160008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205482111515156105c157600080fd5b61065082600160008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610c5a90919063ffffffff16565b600160008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055506106db848484610c7b565b600190509392505050565b60008073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415151561072357600080fd5b6107b282600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610e9490919063ffffffff16565b600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508273ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020546040518082815260200191505060405180910390a36001905092915050565b60008060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b60008073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff16141515156109a257600080fd5b610a3182600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610c5a90919063ffffffff16565b600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508273ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020546040518082815260200191505060405180910390a36001905092915050565b6000610ba9338484610c7b565b6001905092915050565b610bc582610bc08461091d565b610eb5565b610bcf8282611040565b5050565b6000600160008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905092915050565b600080838311151515610c6c57600080fd5b82840390508091505092915050565b6000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020548111151515610cc857600080fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1614151515610d0457600080fd5b610d55816000808673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610c5a90919063ffffffff16565b6000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550610de8816000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610e9490919063ffffffff16565b6000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef836040518082815260200191505060405180910390a3505050565b6000808284019050838110151515610eab57600080fd5b8091505092915050565b60008273ffffffffffffffffffffffffffffffffffffffff1614151515610edb57600080fd5b6000808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020548111151515610f2857600080fd5b610f3d81600254610c5a90919063ffffffff16565b600281905550610f94816000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610c5a90919063ffffffff16565b6000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef836040518082815260200191505060405180910390a35050565b60008273ffffffffffffffffffffffffffffffffffffffff161415151561106657600080fd5b61107b81600254610e9490919063ffffffff16565b6002819055506110d2816000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610e9490919063ffffffff16565b6000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508173ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef836040518082815260200191505060405180910390a350505600a165627a7a7230582094609698b7c76dff80d05dcaa6cb6f31fb8f800a5026ee62cf6e4f71bba041a40029"

const asbByteCode = "0x608060405260006004553480156200001657600080fd5b506040516200427c3803806200427c83398101806040526200003c919081019062000422565b336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a36000845111151562000141576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401620001389062000565565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1614151515620001b6576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401620001ad9062000587565b60405180910390fd5b85600060146101000a81548163ffffffff021916908363ffffffff16021790555084600060186101000a81548167ffffffffffffffff021916908367ffffffffffffffff160217905550836001908051906020019062000218929190620002a7565b5082600260006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555081600360006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550505050505050620006c6565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10620002ea57805160ff19168380011785556200031b565b828001600101855582156200031b579182015b828111156200031a578251825591602001919060010190620002fd565b5b5090506200032a91906200032e565b5090565b6200035391905b808211156200034f57600081600090555060010162000335565b5090565b90565b600062000364825162000624565b905092915050565b60006200037a825162000644565b905092915050565b600062000390825162000658565b905092915050565b600082601f8301121515620003ac57600080fd5b8151620003c3620003bd82620005d7565b620005a9565b91508082526020830160208301858383011115620003e057600080fd5b620003ed83828462000690565b50505092915050565b60006200040482516200066c565b905092915050565b60006200041a82516200067c565b905092915050565b60008060008060008060c087890312156200043c57600080fd5b60006200044c89828a01620003f6565b96505060206200045f89828a016200040c565b955050604087015167ffffffffffffffff8111156200047d57600080fd5b6200048b89828a0162000398565b94505060606200049e89828a016200036c565b9350506080620004b189828a0162000382565b92505060a0620004c489828a0162000356565b9150509295509295509295565b6000602982527f4f7262732041534220636f6e7472616374206e616d65206d757374206e6f742060208301527f626520656d7074792100000000000000000000000000000000000000000000006040830152606082019050919050565b6000601482527f546f6b656e206d757374206e6f742062652030210000000000000000000000006020830152604082019050919050565b600060208201905081810360008301526200058081620004d1565b9050919050565b60006020820190508181036000830152620005a2816200052e565b9050919050565b6000604051905081810181811067ffffffffffffffff82111715620005cd57600080fd5b8060405250919050565b600067ffffffffffffffff821115620005ef57600080fd5b601f19601f8301169050602081019050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000620006518262000604565b9050919050565b6000620006658262000604565b9050919050565b600063ffffffff82169050919050565b600067ffffffffffffffff82169050919050565b60005b83811015620006b057808201518184015260208101905062000693565b83811115620006c0576000848401525b50505050565b613ba680620006d66000396000f30060806040526004361061017f576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806212117d14610184578063037a3796146101af578063047ee7e8146101da57806326413cd014610205578063308ff0c91461023057806333d7fafd1461025b578063397d6e1714610284578063550bed71146102af5780635680b8aa146102da5780635c45428c1461030557806366c8611914610330578063690ba6081461035b5780636d2c93ac14610386578063715018a6146103b15780638d9ecc66146103c85780638da5cb5b146103f35780638f32d59b1461041e578063923aebf0146104495780639c3db9a514610486578063b11954b3146104b1578063bd19dffb146104dc578063c4c3c17e14610507578063d2b43fee14610532578063e1d5c2551461055b578063eea7f0ab14610586578063f18a25ce146105b1578063f2fde38b146105dc578063f3762c1114610605578063fc0c546a14610630578063ffa1ad741461065b575b600080fd5b34801561019057600080fd5b50610199610686565b6040516101a691906138c2565b60405180910390f35b3480156101bb57600080fd5b506101c461068b565b6040516101d191906138c2565b60405180910390f35b3480156101e657600080fd5b506101ef610690565b6040516101fc91906138c2565b60405180910390f35b34801561021157600080fd5b5061021a610695565b60405161022791906138c2565b60405180910390f35b34801561023c57600080fd5b5061024561069a565b60405161025291906138c2565b60405180910390f35b34801561026757600080fd5b50610282600480360361027d9190810190612cb4565b61069f565b005b34801561029057600080fd5b506102996108bd565b6040516102a691906138c2565b60405180910390f35b3480156102bb57600080fd5b506102c46108c2565b6040516102d191906138c2565b60405180910390f35b3480156102e657600080fd5b506102ef6108c7565b6040516102fc91906138c2565b60405180910390f35b34801561031157600080fd5b5061031a6108cc565b60405161032791906135e0565b60405180910390f35b34801561033c57600080fd5b5061034561096a565b60405161035291906135c5565b60405180910390f35b34801561036757600080fd5b50610370610990565b60405161037d91906138c2565b60405180910390f35b34801561039257600080fd5b5061039b610995565b6040516103a891906138c2565b60405180910390f35b3480156103bd57600080fd5b506103c661099a565b005b3480156103d457600080fd5b506103dd610a6c565b6040516103ea91906138c2565b60405180910390f35b3480156103ff57600080fd5b50610408610a71565b6040516104159190613491565b60405180910390f35b34801561042a57600080fd5b50610433610a9a565b6040516104409190613551565b60405180910390f35b34801561045557600080fd5b50610470600480360361046b9190810190612ddc565b610af1565b60405161047d9190613551565b60405180910390f35b34801561049257600080fd5b5061049b610b11565b6040516104a891906138c2565b60405180910390f35b3480156104bd57600080fd5b506104c6610b16565b6040516104d391906138c2565b60405180910390f35b3480156104e857600080fd5b506104f1610b1b565b6040516104fe919061393c565b60405180910390f35b34801561051357600080fd5b5061051c610b35565b60405161052991906138c2565b60405180910390f35b34801561053e57600080fd5b5061055960048036036105549190810190612d19565b610b3a565b005b34801561056757600080fd5b50610570610ffa565b60405161057d91906138c2565b60405180910390f35b34801561059257600080fd5b5061059b611000565b6040516105a891906138c2565b60405180910390f35b3480156105bd57600080fd5b506105c6611005565b6040516105d391906138c2565b60405180910390f35b3480156105e857600080fd5b5061060360048036036105fe9190810190612c62565b61100a565b005b34801561061157600080fd5b5061061a611029565b60405161062791906138f8565b60405180910390f35b34801561063c57600080fd5b5061064561103f565b60405161065291906135aa565b60405180910390f35b34801561066757600080fd5b50610670611065565b60405161067d91906138c2565b60405180910390f35b600181565b606481565b603481565b601481565b604181565b6106a88261106a565b15156106e9576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016106e090613642565b60405180910390fd5b60008111151561072e576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610725906137a2565b60405180910390fd5b600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166323b872dd3330846040518463ffffffff167c01000000000000000000000000000000000000000000000000000000000281526004016107a9939291906134ac565b602060405180830381600087803b1580156107c357600080fd5b505af11580156107d7573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506107fb9190810190612c8b565b151561083c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610833906136e2565b60405180910390fd5b61085260016004546110b490919063ffffffff16565b600481905550816bffffffffffffffffffffffff19163373ffffffffffffffffffffffffffffffffffffffff166004547fc7d2da8a0df0279cb4e0a81f2975445675cc6527c94016791d29977a1fa0f251846040516108b191906138c2565b60405180910390a45050565b601481565b602081565b602481565b60018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156109625780601f1061093757610100808354040283529160200191610962565b820191906000526020600020905b81548152906001019060200180831161094557829003601f168201915b505050505081565b600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600481565b600281565b6109a2610a9a565b15156109ad57600080fd5b600073ffffffffffffffffffffffffffffffffffffffff166000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a360008060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550565b600481565b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614905090565b60056020528060005260406000206000915054906101000a900460ff1681565b600881565b600181565b600060189054906101000a900467ffffffffffffffff1681565b601481565b610b426128ff565b610b4e858585856110d5565b9050600073ffffffffffffffffffffffffffffffffffffffff16816080015173ffffffffffffffffffffffffffffffffffffffff1614151515610bc6576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610bbd90613802565b60405180910390fd5b60008160a00151111515610c0f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610c06906137a2565b60405180910390fd5b806000015163ffffffff16600060149054906101000a900463ffffffff1663ffffffff16141515610c75576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610c6c90613842565b60405180910390fd5b806020015167ffffffffffffffff16600060189054906101000a900467ffffffffffffffff1667ffffffffffffffff16141515610ce7576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610cde906136a2565b60405180910390fd5b610d98816040015160018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610d855780601f10610d5a57610100808354040283529160200191610d85565b820191906000526020600020905b815481529060010190602001808311610d6857829003601f168201915b50505050506113e590919063ffffffff16565b1515610dd9576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610dd090613862565b60405180910390fd5b600560008260c00151815260200190815260200160002060009054906101000a900460ff16151515610e40576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610e37906137c2565b60405180910390fd5b6001600560008360c00151815260200190815260200160002060006101000a81548160ff021916908315150217905550600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663a9059cbb82608001518360a001516040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401610ef19291906134e3565b602060405180830381600087803b158015610f0b57600080fd5b505af1158015610f1f573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610f439190810190612c8b565b1515610f84576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610f7b906138a2565b60405180910390fd5b806080015173ffffffffffffffffffffffffffffffffffffffff1681606001516bffffffffffffffffffffffff19168260c001517f0e1884a0d68b0d4801a22895bf83fe72c3ae24c9cf5b2dec620e192dd225b8a88460a00151604051610feb91906138c2565b60405180910390a45050505050565b60045481565b602081565b600c81565b611012610a9a565b151561101d57600080fd5b611026816114d3565b50565b600060149054906101000a900463ffffffff1681565b600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600181565b6000806c01000000000000000000000000026bffffffffffffffffffffffff1916826bffffffffffffffffffffffff191614156110aa57600090506110af565b600190505b919050565b60008082840190508381101515156110cb57600080fd5b8091505092915050565b6110dd6128ff565b6110e5612972565b6110ed6129c5565b6110f56129e5565b6110fe886115cd565b92506002836000015163ffffffff1614151561114f576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161114690613782565b60405180910390fd5b6111598888611742565b73__CryptoUtils___________________________636df6588e868560800151896040518463ffffffff167c01000000000000000000000000000000000000000000000000000000000281526004016111b49392919061350c565b60206040518083038186803b1580156111cc57600080fd5b505af41580156111e0573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506112049190810190612c8b565b1515611245576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161123c90613822565b60405180910390fd5b61124e86611976565b91506001826000015163ffffffff1614151561129f576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161129690613682565b60405180910390fd5b6112ac8260200151611a4b565b90506001816020015163ffffffff161415156112fd576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016112f490613762565b60405180910390fd5b8260400151846000019063ffffffff16908163ffffffff16815250508260200151846020019067ffffffffffffffff16908167ffffffffffffffff168152505080600001518460400181905250806060015184606001906bffffffffffffffffffffffff191690816bffffffffffffffffffffffff1916815250508060800151846080019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff16815250508060a001518460a0018181525050806040015167ffffffffffffffff168460c0018181525050505050949350505050565b6000815183511415156113fb57600090506114cd565b816040518082805190602001908083835b602083101515611431578051825260208201915060208101905060208303925061140c565b6001836020036101000a038019825116818451168082178552505050505050905001915050604051809103902060001916836040518082805190602001908083835b6020831015156114985780518252602082019150602081019050602083039250611473565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040518091039020600019161490505b92915050565b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff161415151561150f57600080fd5b8073ffffffffffffffffffffffffffffffffffffffff166000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a3806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b6115d5612972565b60008090506115ed8184611da090919063ffffffff16565b826000019063ffffffff16908163ffffffff16815250506116186004826110b490919063ffffffff16565b905061162d8184611db690919063ffffffff16565b826020019067ffffffffffffffff16908167ffffffffffffffff16815250506116606008826110b490919063ffffffff16565b90506116758184611da090919063ffffffff16565b826040019063ffffffff16908163ffffffff16815250506116a06004826110b490919063ffffffff16565b90506116b58184611db690919063ffffffff16565b826060019067ffffffffffffffff16908167ffffffffffffffff16815250506116e86008826110b490919063ffffffff16565b90506116fe6028826110b490919063ffffffff16565b90506117138184611dcc90919063ffffffff16565b8260800190600019169081600019168152505061173a6020826110b490919063ffffffff16565b905050919050565b61174a612a51565b60008061175684611df5565b92506002856040518082805190602001908083835b602083101515611790578051825260208201915060208101905060208303925061176b565b6001836020036101000a0380198251168184511680821785525050505050509050019150506020604051808303816000865af11580156117d4573d6000803e3d6000fd5b5050506040513d601f19601f820116820180604052506117f79190810190612cf0565b915060028360200151836040516020018083600019166000191681526020018260001916600019168152602001925050506040516020818303038152906040526040518082805190602001908083835b60208310151561186c5780518252602082019150602081019050602083039250611847565b6001836020036101000a0380198251168184511680821785525050505050509050019150506020604051808303816000865af11580156118b0573d6000803e3d6000fd5b5050506040513d601f19601f820116820180604052506118d39190810190612cf0565b90508260600151600019168160001916141515611925576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161191c90613622565b60405180910390fd5b61192e83612234565b151561196f576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161196690613722565b60405180910390fd5b5050505050565b61197e6129c5565b600080600091506119996024836110b490919063ffffffff16565b91506119ae8285611da090919063ffffffff16565b836000019063ffffffff16908163ffffffff16815250506119d96004836110b490919063ffffffff16565b91506119ee8285611da090919063ffffffff16565b9050611a046004836110b490919063ffffffff16565b9150611a21828263ffffffff16866126329092919063ffffffff16565b8360200181905250611a428163ffffffff16836110b490919063ffffffff16565b91505050919050565b611a536129e5565b6000806000806000809450611a72600088611da090919063ffffffff16565b9350611a886004866110b490919063ffffffff16565b9450611aa5858563ffffffff16896126329092919063ffffffff16565b8660000181905250611ac68463ffffffff16866110b490919063ffffffff16565b9450611adb8588611da090919063ffffffff16565b866020019063ffffffff16908163ffffffff1681525050611b066004866110b490919063ffffffff16565b9450611b1b8588611db690919063ffffffff16565b866040019067ffffffffffffffff16908167ffffffffffffffff1681525050611b4e6008866110b490919063ffffffff16565b9450611b638588611da090919063ffffffff16565b925060148363ffffffff16141515611bb0576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611ba7906136c2565b60405180910390fd5b611bc46004866110b490919063ffffffff16565b9450611bd985886126bf90919063ffffffff16565b86606001906bffffffffffffffffffffffff191690816bffffffffffffffffffffffff191681525050611c166014866110b490919063ffffffff16565b9450611c2b8588611da090919063ffffffff16565b915060148263ffffffff16141515611c78576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611c6f90613702565b60405180910390fd5b611c8c6004866110b490919063ffffffff16565b9450611ca1858861271e90919063ffffffff16565b866080019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff1681525050611cec6014866110b490919063ffffffff16565b9450611d018588611da090919063ffffffff16565b905060208163ffffffff16141515611d4e576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611d4590613882565b60405180910390fd5b611d626004866110b490919063ffffffff16565b9450611d77858861275690919063ffffffff16565b8660a0018181525050611d946020866110b490919063ffffffff16565b94505050505050919050565b6000611dae8383600461276c565b905092915050565b6000611dc48383600861276c565b905092915050565b60008060208301845110151515611de257600080fd5b8260208501015190508091505092915050565b611dfd612a51565b60008060008060009350611e1a8487611da090919063ffffffff16565b856000019063ffffffff16908163ffffffff1681525050611e456004856110b490919063ffffffff16565b9350611e5a8487611da090919063ffffffff16565b925060208363ffffffff16141515611ea7576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611e9e90613662565b60405180910390fd5b611ebb6004856110b490919063ffffffff16565b9350611ed08487611dcc90919063ffffffff16565b85602001906000191690816000191681525050611ef76020856110b490919063ffffffff16565b9350611f0d600c856110b490919063ffffffff16565b93506002611f27856034896126329092919063ffffffff16565b6040518082805190602001908083835b602083101515611f5c5780518252602082019150602081019050602083039250611f37565b6001836020036101000a0380198251168184511680821785525050505050509050019150506020604051808303816000865af1158015611fa0573d6000803e3d6000fd5b5050506040513d601f19601f82011682018060405250611fc39190810190612cf0565b85604001906000191690816000191681525050611fea6014856110b490919063ffffffff16565b9350611fff8487611dcc90919063ffffffff16565b856060019060001916908160001916815250506120266020856110b490919063ffffffff16565b93505b855184101561222b576120466004856110b490919063ffffffff16565b935061205b8487611da090919063ffffffff16565b915060148263ffffffff161415156120a8576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161209f906137e2565b60405180910390fd5b6120bc6004856110b490919063ffffffff16565b93506120d1848761271e90919063ffffffff16565b8560a00151866080015160ff166064811015156120ea57fe5b602002019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff16815250506121356014856110b490919063ffffffff16565b935061214a8487611da090919063ffffffff16565b905060418163ffffffff16141515612197576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161218e90613742565b60405180910390fd5b6121ab6004856110b490919063ffffffff16565b93506121c3846041886126329092919063ffffffff16565b8560c00151866080015160ff166064811015156121dc57fe5b60200201819052506121f86041856110b490919063ffffffff16565b93506122156001866080015160ff166110b490919063ffffffff16565b856080019060ff16908160ff1681525050612029565b50505050919050565b600080600060606000806060600080600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663925f50728b600001516040518263ffffffff167c01000000000000000000000000000000000000000000000000000000000281526004016122be91906138dd565b602060405180830381600087803b1580156122d857600080fd5b505af11580156122ec573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506123109190810190612e05565b975060009650896080015160ff1660405190808252806020026020018201604052801561234c5781602001602082028038833980820191505090505b509550600094505b896080015160ff16851015612620578960a001518560648110151561237557fe5b602002015193508960c001518560648110151561238e57fe5b60200201519250600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663ddef11608b60000151866040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401612412929190613913565b602060405180830381600087803b15801561242c57600080fd5b505af1158015612440573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506124649190810190612c8b565b151561246f57612615565b73__CryptoUtils___________________________6365a18acf8b6040015185876040518463ffffffff167c01000000000000000000000000000000000000000000000000000000000281526004016124ca9392919061356c565b60206040518083038186803b1580156124e257600080fd5b505af41580156124f6573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525061251a9190810190612c8b565b151561252557612615565b60019150600090505b8481101561259557858181518110151561254457fe5b9060200190602002015173ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff16141561258a5760009150612595565b80600101905061252e565b8115156125a157612615565b8386868151811015156125b057fe5b9060200190602002019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff16815250506126006001886110b490919063ffffffff16565b965087871015156126145760019850612625565b5b846001019450612354565b600098505b5050505050505050919050565b60608082840185511015151561264757600080fd5b821560008114612662576040519150602082016040526126b3565b6040519150601f8416801560200281840101858101878315602002848b0101015b818310156126a05780518352602083019250602081019050612683565b50868552601f19601f8301166040525050505b50809150509392505050565b6000806014830184511015151561270b576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161270290613602565b60405180910390fd5b8260208501015190508091505092915050565b6000806014830184511015151561273457600080fd5b6c01000000000000000000000000836020860101510490508091505092915050565b60006127648383602061276c565b905092915050565b6000606061278d6127888585886126329092919063ffffffff16565b6127a5565b905061279b816000856128a1565b9150509392505050565b606080600083516040519080825280601f01601f1916602001820160405280156127de5781602001602082028038833980820191505090505b509150600090505b83518110156128975783818151811015156127fd57fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f010000000000000000000000000000000000000000000000000000000000000002826001838751030381518110151561285c57fe5b9060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053508060010190506127e6565b8192505050919050565b6000808284018551101515156128ec576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016128e390613602565b60405180910390fd5b8383860101519050809150509392505050565b60e060405190810160405280600063ffffffff168152602001600067ffffffffffffffff1681526020016060815260200160006bffffffffffffffffffffffff19168152602001600073ffffffffffffffffffffffffffffffffffffffff16815260200160008152602001600081525090565b60a060405190810160405280600063ffffffff168152602001600067ffffffffffffffff168152602001600063ffffffff168152602001600067ffffffffffffffff168152602001600080191681525090565b6040805190810160405280600063ffffffff168152602001606081525090565b60c06040519081016040528060608152602001600063ffffffff168152602001600067ffffffffffffffff16815260200160006bffffffffffffffffffffffff19168152602001600073ffffffffffffffffffffffffffffffffffffffff168152602001600081525090565b6119a060405190810160405280600063ffffffff168152602001600080191681526020016000801916815260200160008019168152602001600060ff168152602001612a9b612aae565b8152602001612aa8612ad2565b81525090565b610c8060405190810160405280606490602082028038833980820191505090505090565b610c80604051908101604052806064905b6060815260200190600190039081612ae35790505090565b6000612b078235613a77565b905092915050565b600082601f8301121515612b2257600080fd5b8135612b35612b3082613984565b613957565b91508181835260208401935060208101905083856020840282011115612b5a57600080fd5b60005b83811015612b8a5781612b708882612bbc565b845260208401935060208301925050600181019050612b5d565b5050505092915050565b6000612ba08251613a97565b905092915050565b6000612bb48235613aa3565b905092915050565b6000612bc88235613acf565b905092915050565b6000612bdc8251613acf565b905092915050565b600082601f8301121515612bf757600080fd5b8135612c0a612c05826139ac565b613957565b91508082526020830160208301858383011115612c2657600080fd5b612c31838284613b19565b50505092915050565b6000612c468235613ad9565b905092915050565b6000612c5a8251613ad9565b905092915050565b600060208284031215612c7457600080fd5b6000612c8284828501612afb565b91505092915050565b600060208284031215612c9d57600080fd5b6000612cab84828501612b94565b91505092915050565b60008060408385031215612cc757600080fd5b6000612cd585828601612ba8565b9250506020612ce685828601612c3a565b9150509250929050565b600060208284031215612d0257600080fd5b6000612d1084828501612bd0565b91505092915050565b60008060008060808587031215612d2f57600080fd5b600085013567ffffffffffffffff811115612d4957600080fd5b612d5587828801612be4565b945050602085013567ffffffffffffffff811115612d7257600080fd5b612d7e87828801612be4565b935050604085013567ffffffffffffffff811115612d9b57600080fd5b612da787828801612be4565b925050606085013567ffffffffffffffff811115612dc457600080fd5b612dd087828801612b0f565b91505092959194509250565b600060208284031215612dee57600080fd5b6000612dfc84828501612c3a565b91505092915050565b600060208284031215612e1757600080fd5b6000612e2584828501612c4e565b91505092915050565b612e3781613a13565b82525050565b612e4681613a13565b82525050565b6000612e57826139e5565b808452602084019350612e69836139d8565b60005b82811015612e9b57612e7f868351612eb6565b612e8882613a06565b9150602086019550600181019050612e6c565b50849250505092915050565b612eb081613a33565b82525050565b612ebf81613a3f565b82525050565b6000612ed0826139f0565b808452612ee4816020860160208601613b28565b612eed81613b5b565b602085010191505092915050565b612f0481613ae3565b82525050565b612f1381613af5565b82525050565b6000612f24826139fb565b808452612f38816020860160208601613b28565b612f4181613b5b565b602085010191505092915050565b6000600f82527f496e76616c6964206c656e6774682100000000000000000000000000000000006020830152604082019050919050565b6000601982527f426c6f636b206861736820646f65736e2774206d6174636821000000000000006020830152604082019050919050565b6000601882527f4f726273206164647265737320697320696e76616c69642100000000000000006020830152604082019050919050565b6000601282527f496e76616c696420686173682073697a652100000000000000000000000000006020830152604082019050919050565b6000601982527f496e76616c696420657865637574696f6e20726573756c7421000000000000006020830152604082019050919050565b6000601b82527f496e636f7272656374207669727475616c20636861696e2049442100000000006020830152604082019050919050565b6000601a82527f496e76616c6964204f72627320616464726573732073697a65210000000000006020830152604082019050919050565b6000601782527f496e73756666696369656e7420616c6c6f77616e6365210000000000000000006020830152604082019050919050565b6000601e82527f496e76616c696420457468657265756d20616464726573732073697a652100006020830152604082019050919050565b6000601282527f496e76616c6964207369676e61747572652100000000000000000000000000006020830152604082019050919050565b6000601782527f496e76616c6964207369676e61747572652073697a65210000000000000000006020830152604082019050919050565b6000601182527f496e76616c6964206576656e74204944210000000000000000000000000000006020830152604082019050919050565b6000601d82527f556e737570706f727465642070726f746f636f6c2076657273696f6e210000006020830152604082019050919050565b6000601d82527f56616c7565206d7573742062652067726561746572207468616e2030210000006020830152604082019050919050565b6000601782527f545549442077617320616c7265616479207370656e74210000000000000000006020830152604082019050919050565b6000601582527f496e76616c696420616464726573732073697a652100000000000000000000006020830152604082019050919050565b6000601f82527f44657374696e6174696f6e20616464726573732063616e2774206265203021006020830152604082019050919050565b6000602282527f496e76616c6964207472616e73616374696f6e20726563656970742070726f6f60208301527f66210000000000000000000000000000000000000000000000000000000000006040830152606082019050919050565b6000601782527f496e636f7272656374206e6574776f726b2074797065210000000000000000006020830152604082019050919050565b6000602182527f496e636f7272656374204f7262732041534220636f6e7472616374206e616d6560208301527f21000000000000000000000000000000000000000000000000000000000000006040830152606082019050919050565b6000601382527f496e76616c69642076616c75652073697a6521000000000000000000000000006020830152604082019050919050565b6000601382527f496e73756666696369656e742066756e647321000000000000000000000000006020830152604082019050919050565b61345e81613a49565b82525050565b61346d81613b07565b82525050565b61347c81613a53565b82525050565b61348b81613a63565b82525050565b60006020820190506134a66000830184612e2e565b92915050565b60006060820190506134c16000830186612e2e565b6134ce6020830185612e2e565b6134db6040830184613455565b949350505050565b60006040820190506134f86000830185612e2e565b6135056020830184613455565b9392505050565b600060608201905081810360008301526135268186612e4c565b90506135356020830185612eb6565b81810360408301526135478184612ec5565b9050949350505050565b60006020820190506135666000830184612ea7565b92915050565b60006060820190506135816000830186612eb6565b81810360208301526135938185612ec5565b90506135a26040830184612e3d565b949350505050565b60006020820190506135bf6000830184612efb565b92915050565b60006020820190506135da6000830184612f0a565b92915050565b600060208201905081810360008301526135fa8184612f19565b905092915050565b6000602082019050818103600083015261361b81612f4f565b9050919050565b6000602082019050818103600083015261363b81612f86565b9050919050565b6000602082019050818103600083015261365b81612fbd565b9050919050565b6000602082019050818103600083015261367b81612ff4565b9050919050565b6000602082019050818103600083015261369b8161302b565b9050919050565b600060208201905081810360008301526136bb81613062565b9050919050565b600060208201905081810360008301526136db81613099565b9050919050565b600060208201905081810360008301526136fb816130d0565b9050919050565b6000602082019050818103600083015261371b81613107565b9050919050565b6000602082019050818103600083015261373b8161313e565b9050919050565b6000602082019050818103600083015261375b81613175565b9050919050565b6000602082019050818103600083015261377b816131ac565b9050919050565b6000602082019050818103600083015261379b816131e3565b9050919050565b600060208201905081810360008301526137bb8161321a565b9050919050565b600060208201905081810360008301526137db81613251565b9050919050565b600060208201905081810360008301526137fb81613288565b9050919050565b6000602082019050818103600083015261381b816132bf565b9050919050565b6000602082019050818103600083015261383b816132f6565b9050919050565b6000602082019050818103600083015261385b81613353565b9050919050565b6000602082019050818103600083015261387b8161338a565b9050919050565b6000602082019050818103600083015261389b816133e7565b9050919050565b600060208201905081810360008301526138bb8161341e565b9050919050565b60006020820190506138d76000830184613455565b92915050565b60006020820190506138f26000830184613464565b92915050565b600060208201905061390d6000830184613473565b92915050565b60006040820190506139286000830185613464565b6139356020830184612e2e565b9392505050565b60006020820190506139516000830184613482565b92915050565b6000604051905081810181811067ffffffffffffffff8211171561397a57600080fd5b8060405250919050565b600067ffffffffffffffff82111561399b57600080fd5b602082029050602081019050919050565b600067ffffffffffffffff8211156139c357600080fd5b601f19601f8301169050602081019050919050565b6000602082019050919050565b600081519050919050565b600081519050919050565b600081519050919050565b6000602082019050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60008115159050919050565b6000819050919050565b6000819050919050565b600063ffffffff82169050919050565b600067ffffffffffffffff82169050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60008115159050919050565b60007fffffffffffffffffffffffffffffffffffffffff00000000000000000000000082169050919050565b6000819050919050565b6000819050919050565b6000613aee82613a13565b9050919050565b6000613b0082613a13565b9050919050565b6000613b1282613a53565b9050919050565b82818337600083830152505050565b60005b83811015613b46578082015181840152602081019050613b2b565b83811115613b55576000848401525b50505050565b6000601f19601f83011690509190505600a265627a7a723058200d5d2af321ff6a5094ead7031da1a2c45a8ba5423e066fea26508b1b3e892aaa6c6578706572696d656e74616cf50037"
const asbABI = `[{"constant":true,"inputs":[],"name":"EXECUTION_RESULT_SUCCESS","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"MAX_SIGNATURES","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"BLOCKREFMESSAGE_SIZE","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"ORBS_ADDRESS_SIZE","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"SIGNATURE_SIZE","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"BLOCKHASH_OFFSET","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"SHA256_SIZE","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"EXECUTION_RESULT_OFFSET","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"orbsASBContractName","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"federation","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"UINT32_SIZE","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"ORBS_PROTOCOL_VERSION","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"renounceOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"NODE_PK_SIG_NESTING_SIZE","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"isOwner","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"spentOrbsTuids","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"UINT64_SIZE","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"TRANSFERRED_OUT","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"virtualChainId","outputs":[{"name":"","type":"uint64"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"ADDRESS_SIZE","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"tuidCounter","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"UINT256_SIZE","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"ONEOF_NESTING_SIZE","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"networkType","outputs":[{"name":"","type":"uint32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"token","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"VERSION","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"_networkType","type":"uint32"},{"name":"_virtualChainId","type":"uint64"},{"name":"_orbsASBContractName","type":"string"},{"name":"_token","type":"address"},{"name":"_federation","type":"address"},{"name":"_verifier","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"name":"tuid","type":"uint256"},{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"bytes20"},{"indexed":false,"name":"value","type":"uint256"}],"name":"TransferredOut","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"tuid","type":"uint256"},{"indexed":true,"name":"from","type":"bytes20"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"TransferredIn","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"previousOwner","type":"address"},{"indexed":true,"name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"constant":false,"inputs":[{"name":"_to","type":"bytes20"},{"name":"_value","type":"uint256"}],"name":"transferOut","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_resultsBlockHeader","type":"bytes"},{"name":"_resultsBlockProof","type":"bytes"},{"name":"_transactionReceipt","type":"bytes"},{"name":"_transactionReceiptProof","type":"bytes32[]"}],"name":"transferIn","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"}]`

const verifierByteCodeNoFederationAssert = "0x60806040523480156200001157600080fd5b5060405160208062002b6a833981018060405262000033919081019062000090565b806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050620000f0565b6000620000888251620000dc565b905092915050565b600060208284031215620000a357600080fd5b6000620000b3848285016200007a565b91505092915050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000620000e982620000bc565b9050919050565b612a6a80620001006000396000f300608060405260043610610111576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806212117d14610116578063037a379614610141578063047ee7e81461016c57806326413cd014610197578063308ff0c9146101c2578063397d6e17146101ed578063550bed71146102185780635680b8aa1461024357806361cd41721461026e57806366c86119146102ab578063690ba608146102d65780636d2c93ac146103015780638d9ecc661461032c5780639c3db9a514610357578063a7c53a7514610382578063b11954b3146103bf578063c4c3c17e146103ea578063eea7f0ab14610415578063f18a25ce14610440578063ffa1ad741461046b575b600080fd5b34801561012257600080fd5b5061012b610496565b60405161013891906127c2565b60405180910390f35b34801561014d57600080fd5b5061015661049b565b60405161016391906127c2565b60405180910390f35b34801561017857600080fd5b506101816104a0565b60405161018e91906127c2565b60405180910390f35b3480156101a357600080fd5b506101ac6104a5565b6040516101b991906127c2565b60405180910390f35b3480156101ce57600080fd5b506101d76104aa565b6040516101e491906127c2565b60405180910390f35b3480156101f957600080fd5b506102026104af565b60405161020f91906127c2565b60405180910390f35b34801561022457600080fd5b5061022d6104b4565b60405161023a91906127c2565b60405180910390f35b34801561024f57600080fd5b506102586104b9565b60405161026591906127c2565b60405180910390f35b34801561027a57600080fd5b5061029560048036036102909190810190611f1f565b6104be565b6040516102a2919061258c565b60405180910390f35b3480156102b757600080fd5b506102c0610508565b6040516102cd91906125e5565b60405180910390f35b3480156102e257600080fd5b506102eb61052d565b6040516102f891906127c2565b60405180910390f35b34801561030d57600080fd5b50610316610532565b60405161032391906127c2565b60405180910390f35b34801561033857600080fd5b50610341610537565b60405161034e91906127c2565b60405180910390f35b34801561036357600080fd5b5061036c61053c565b60405161037991906127c2565b60405180910390f35b34801561038e57600080fd5b506103a960048036036103a49190810190611f71565b610541565b6040516103b691906127a0565b60405180910390f35b3480156103cb57600080fd5b506103d4610851565b6040516103e191906127c2565b60405180910390f35b3480156103f657600080fd5b506103ff610856565b60405161040c91906127c2565b60405180910390f35b34801561042157600080fd5b5061042a61085b565b60405161043791906127c2565b60405180910390f35b34801561044c57600080fd5b50610455610860565b60405161046291906127c2565b60405180910390f35b34801561047757600080fd5b50610480610865565b60405161048d91906127c2565b60405180910390f35b600181565b606481565b603481565b601481565b604181565b601481565b602081565b602481565b6000806c01000000000000000000000000026bffffffffffffffffffffffff1916826bffffffffffffffffffffffff191614156104fe5760009050610503565b600190505b919050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600481565b600281565b600481565b600881565b610549611bbb565b610551611c2e565b610559611c81565b610561611ca1565b61056a8861086a565b92506002836000015163ffffffff161415156105bb576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016105b290612720565b60405180910390fd5b6105c588886109df565b73__CryptoUtils___________________________636df6588e868560800151896040518463ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040161062093929190612547565b60206040518083038186803b15801561063857600080fd5b505af415801561064c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506106709190810190611ef6565b15156106b1576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016106a890612760565b60405180910390fd5b6106ba86610c13565b91506001826000015163ffffffff1614151561070b576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161070290612660565b60405180910390fd5b6107188260200151610ce8565b90506001816020015163ffffffff16141515610769576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161076090612700565b60405180910390fd5b8260400151846000019063ffffffff16908163ffffffff16815250508260200151846020019067ffffffffffffffff16908167ffffffffffffffff168152505080600001518460400181905250806060015184606001906bffffffffffffffffffffffff191690816bffffffffffffffffffffffff1916815250508060800151846080019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff16815250508060a001518460a0018181525050806040015167ffffffffffffffff168460c0018181525050505050949350505050565b600181565b601481565b602081565b600c81565b600181565b610872611c2e565b600080905061088a818461103d90919063ffffffff16565b826000019063ffffffff16908163ffffffff16815250506108b560048261105390919063ffffffff16565b90506108ca818461107490919063ffffffff16565b826020019067ffffffffffffffff16908167ffffffffffffffff16815250506108fd60088261105390919063ffffffff16565b9050610912818461103d90919063ffffffff16565b826040019063ffffffff16908163ffffffff168152505061093d60048261105390919063ffffffff16565b9050610952818461107490919063ffffffff16565b826060019067ffffffffffffffff16908167ffffffffffffffff168152505061098560088261105390919063ffffffff16565b905061099b60288261105390919063ffffffff16565b90506109b0818461108a90919063ffffffff16565b826080019060001916908160001916815250506109d760208261105390919063ffffffff16565b905050919050565b6109e7611d0d565b6000806109f3846110b3565b92506002856040518082805190602001908083835b602083101515610a2d5780518252602082019150602081019050602083039250610a08565b6001836020036101000a0380198251168184511680821785525050505050509050019150506020604051808303816000865af1158015610a71573d6000803e3d6000fd5b5050506040513d601f19601f82011682018060405250610a949190810190611f48565b915060028360200151836040516020018083600019166000191681526020018260001916600019168152602001925050506040516020818303038152906040526040518082805190602001908083835b602083101515610b095780518252602082019150602081019050602083039250610ae4565b6001836020036101000a0380198251168184511680821785525050505050509050019150506020604051808303816000865af1158015610b4d573d6000803e3d6000fd5b5050506040513d601f19601f82011682018060405250610b709190810190611f48565b90508260600151600019168160001916141515610bc2576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610bb990612620565b60405180910390fd5b610bcb836114f2565b1515610c0c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610c03906126c0565b60405180910390fd5b5050505050565b610c1b611c81565b60008060009150610c3660248361105390919063ffffffff16565b9150610c4b828561103d90919063ffffffff16565b836000019063ffffffff16908163ffffffff1681525050610c7660048361105390919063ffffffff16565b9150610c8b828561103d90919063ffffffff16565b9050610ca160048361105390919063ffffffff16565b9150610cbe828263ffffffff16866118ee9092919063ffffffff16565b8360200181905250610cdf8163ffffffff168361105390919063ffffffff16565b91505050919050565b610cf0611ca1565b6000806000806000809450610d0f60008861103d90919063ffffffff16565b9350610d2560048661105390919063ffffffff16565b9450610d42858563ffffffff16896118ee9092919063ffffffff16565b8660000181905250610d638463ffffffff168661105390919063ffffffff16565b9450610d78858861103d90919063ffffffff16565b866020019063ffffffff16908163ffffffff1681525050610da360048661105390919063ffffffff16565b9450610db8858861107490919063ffffffff16565b866040019067ffffffffffffffff16908167ffffffffffffffff1681525050610deb60088661105390919063ffffffff16565b9450610e00858861103d90919063ffffffff16565b925060148363ffffffff16141515610e4d576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610e4490612680565b60405180910390fd5b610e6160048661105390919063ffffffff16565b9450610e76858861197b90919063ffffffff16565b86606001906bffffffffffffffffffffffff191690816bffffffffffffffffffffffff191681525050610eb360148661105390919063ffffffff16565b9450610ec8858861103d90919063ffffffff16565b915060148263ffffffff16141515610f15576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610f0c906126a0565b60405180910390fd5b610f2960048661105390919063ffffffff16565b9450610f3e85886119da90919063ffffffff16565b866080019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff1681525050610f8960148661105390919063ffffffff16565b9450610f9e858861103d90919063ffffffff16565b905060208163ffffffff16141515610feb576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610fe290612780565b60405180910390fd5b610fff60048661105390919063ffffffff16565b94506110148588611a1290919063ffffffff16565b8660a001818152505061103160208661105390919063ffffffff16565b94505050505050919050565b600061104b83836004611a28565b905092915050565b600080828401905083811015151561106a57600080fd5b8091505092915050565b600061108283836008611a28565b905092915050565b600080602083018451101515156110a057600080fd5b8260208501015190508091505092915050565b6110bb611d0d565b600080600080600093506110d8848761103d90919063ffffffff16565b856000019063ffffffff16908163ffffffff168152505061110360048561105390919063ffffffff16565b9350611118848761103d90919063ffffffff16565b925060208363ffffffff16141515611165576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161115c90612640565b60405180910390fd5b61117960048561105390919063ffffffff16565b935061118e848761108a90919063ffffffff16565b856020019060001916908160001916815250506111b560208561105390919063ffffffff16565b93506111cb600c8561105390919063ffffffff16565b935060026111e5856034896118ee9092919063ffffffff16565b6040518082805190602001908083835b60208310151561121a57805182526020820191506020810190506020830392506111f5565b6001836020036101000a0380198251168184511680821785525050505050509050019150506020604051808303816000865af115801561125e573d6000803e3d6000fd5b5050506040513d601f19601f820116820180604052506112819190810190611f48565b856040019060001916908160001916815250506112a860148561105390919063ffffffff16565b93506112bd848761108a90919063ffffffff16565b856060019060001916908160001916815250506112e460208561105390919063ffffffff16565b93505b85518410156114e95761130460048561105390919063ffffffff16565b9350611319848761103d90919063ffffffff16565b915060148263ffffffff16141515611366576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161135d90612740565b60405180910390fd5b61137a60048561105390919063ffffffff16565b935061138f84876119da90919063ffffffff16565b8560a00151866080015160ff166064811015156113a857fe5b602002019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff16815250506113f360148561105390919063ffffffff16565b9350611408848761103d90919063ffffffff16565b905060418163ffffffff16141515611455576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161144c906126e0565b60405180910390fd5b61146960048561105390919063ffffffff16565b9350611481846041886118ee9092919063ffffffff16565b8560c00151866080015160ff1660648110151561149a57fe5b60200201819052506114b660418561105390919063ffffffff16565b93506114d36001866080015160ff1661105390919063ffffffff16565b856080019060ff16908160ff16815250506112e7565b50505050919050565b6000806000606060008060606000806000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663925f50728b600001516040518263ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040161157b91906127dd565b602060405180830381600087803b15801561159557600080fd5b505af11580156115a9573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506115cd9190810190612034565b975060009650896080015160ff166040519080825280602002602001820160405280156116095781602001602082028038833980820191505090505b509550600094505b896080015160ff168510156118dc578960a001518560648110151561163257fe5b602002015193508960c001518560648110151561164b57fe5b602002015192506000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663ddef11608b60000151866040518363ffffffff167c01000000000000000000000000000000000000000000000000000000000281526004016116ce9291906127f8565b602060405180830381600087803b1580156116e857600080fd5b505af11580156116fc573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506117209190810190611ef6565b151561172b576118d1565b73__CryptoUtils___________________________6365a18acf8b6040015185876040518463ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401611786939291906125a7565b60206040518083038186803b15801561179e57600080fd5b505af41580156117b2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506117d69190810190611ef6565b15156117e1576118d1565b60019150600090505b8481101561185157858181518110151561180057fe5b9060200190602002015173ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff1614156118465760009150611851565b8060010190506117ea565b81151561185d576118d1565b83868681518110151561186c57fe5b9060200190602002019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff16815250506118bc60018861105390919063ffffffff16565b965087871015156118d057600198506118e1565b5b846001019450611611565b600098505b5050505050505050919050565b60608082840185511015151561190357600080fd5b82156000811461191e5760405191506020820160405261196f565b6040519150601f8416801560200281840101858101878315602002848b0101015b8183101561195c578051835260208301925060208101905061193f565b50868552601f19601f8301166040525050505b50809150509392505050565b600080601483018451101515156119c7576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016119be90612600565b60405180910390fd5b8260208501015190508091505092915050565b600080601483018451101515156119f057600080fd5b6c01000000000000000000000000836020860101510490508091505092915050565b6000611a2083836020611a28565b905092915050565b60006060611a49611a448585886118ee9092919063ffffffff16565b611a61565b9050611a5781600085611b5d565b9150509392505050565b606080600083516040519080825280601f01601f191660200182016040528015611a9a5781602001602082028038833980820191505090505b509150600090505b8351811015611b53578381815181101515611ab957fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f0100000000000000000000000000000000000000000000000000000000000000028260018387510303815181101515611b1857fe5b9060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a905350806001019050611aa2565b8192505050919050565b600080828401855110151515611ba8576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611b9f90612600565b60405180910390fd5b8383860101519050809150509392505050565b60e060405190810160405280600063ffffffff168152602001600067ffffffffffffffff1681526020016060815260200160006bffffffffffffffffffffffff19168152602001600073ffffffffffffffffffffffffffffffffffffffff16815260200160008152602001600081525090565b60a060405190810160405280600063ffffffff168152602001600067ffffffffffffffff168152602001600063ffffffff168152602001600067ffffffffffffffff168152602001600080191681525090565b6040805190810160405280600063ffffffff168152602001606081525090565b60c06040519081016040528060608152602001600063ffffffff168152602001600067ffffffffffffffff16815260200160006bffffffffffffffffffffffff19168152602001600073ffffffffffffffffffffffffffffffffffffffff168152602001600081525090565b6119a060405190810160405280600063ffffffff168152602001600080191681526020016000801916815260200160008019168152602001600060ff168152602001611d57611d6a565b8152602001611d64611d8e565b81525090565b610c8060405190810160405280606490602082028038833980820191505090505090565b610c80604051908101604052806064905b6060815260200190600190039081611d9f5790505090565b600082601f8301121515611dca57600080fd5b8135611ddd611dd88261284e565b612821565b91508181835260208401935060208101905083856020840282011115611e0257600080fd5b60005b83811015611e325781611e188882611e64565b845260208401935060208301925050600181019050611e05565b5050505092915050565b6000611e48825161296d565b905092915050565b6000611e5c8235612979565b905092915050565b6000611e7082356129a5565b905092915050565b6000611e8482516129a5565b905092915050565b600082601f8301121515611e9f57600080fd5b8135611eb2611ead82612876565b612821565b91508082526020830160208301858383011115611ece57600080fd5b611ed98382846129dd565b50505092915050565b6000611eee82516129af565b905092915050565b600060208284031215611f0857600080fd5b6000611f1684828501611e3c565b91505092915050565b600060208284031215611f3157600080fd5b6000611f3f84828501611e50565b91505092915050565b600060208284031215611f5a57600080fd5b6000611f6884828501611e78565b91505092915050565b60008060008060808587031215611f8757600080fd5b600085013567ffffffffffffffff811115611fa157600080fd5b611fad87828801611e8c565b945050602085013567ffffffffffffffff811115611fca57600080fd5b611fd687828801611e8c565b935050604085013567ffffffffffffffff811115611ff357600080fd5b611fff87828801611e8c565b925050606085013567ffffffffffffffff81111561201c57600080fd5b61202887828801611db7565b91505092959194509250565b60006020828403121561204657600080fd5b600061205484828501611ee2565b91505092915050565b612066816128dd565b82525050565b612075816128dd565b82525050565b6000612086826128af565b808452602084019350612098836128a2565b60005b828110156120ca576120ae8683516120f4565b6120b7826128d0565b915060208601955060018101905061209b565b50849250505092915050565b6120df816128fd565b82525050565b6120ee81612909565b82525050565b6120fd81612935565b82525050565b600061210e826128ba565b8084526121228160208601602086016129ec565b61212b81612a1f565b602085010191505092915050565b612142816129b9565b82525050565b6000612153826128c5565b8084526121678160208601602086016129ec565b61217081612a1f565b602085010191505092915050565b6000600f82527f496e76616c6964206c656e6774682100000000000000000000000000000000006020830152604082019050919050565b6000601982527f426c6f636b206861736820646f65736e2774206d6174636821000000000000006020830152604082019050919050565b6000601282527f496e76616c696420686173682073697a652100000000000000000000000000006020830152604082019050919050565b6000601982527f496e76616c696420657865637574696f6e20726573756c7421000000000000006020830152604082019050919050565b6000601a82527f496e76616c6964204f72627320616464726573732073697a65210000000000006020830152604082019050919050565b6000601e82527f496e76616c696420457468657265756d20616464726573732073697a652100006020830152604082019050919050565b6000601282527f496e76616c6964207369676e61747572652100000000000000000000000000006020830152604082019050919050565b6000601782527f496e76616c6964207369676e61747572652073697a65210000000000000000006020830152604082019050919050565b6000601182527f496e76616c6964206576656e74204944210000000000000000000000000000006020830152604082019050919050565b6000601d82527f556e737570706f727465642070726f746f636f6c2076657273696f6e210000006020830152604082019050919050565b6000601582527f496e76616c696420616464726573732073697a652100000000000000000000006020830152604082019050919050565b6000602282527f496e76616c6964207472616e73616374696f6e20726563656970742070726f6f60208301527f66210000000000000000000000000000000000000000000000000000000000006040830152606082019050919050565b6000601382527f496e76616c69642076616c75652073697a6521000000000000000000000000006020830152604082019050919050565b600060e0830160008301516124876000860182612529565b50602083015161249a6020860182612538565b50604083015184820360408601526124b28282612148565b91505060608301516124c760608601826120e5565b5060808301516124da608086018261205d565b5060a08301516124ed60a086018261250b565b5060c083015161250060c086018261250b565b508091505092915050565b6125148161293f565b82525050565b612523816129cb565b82525050565b61253281612949565b82525050565b61254181612959565b82525050565b60006060820190508181036000830152612561818661207b565b905061257060208301856120f4565b81810360408301526125828184612103565b9050949350505050565b60006020820190506125a160008301846120d6565b92915050565b60006060820190506125bc60008301866120f4565b81810360208301526125ce8185612103565b90506125dd604083018461206c565b949350505050565b60006020820190506125fa6000830184612139565b92915050565b600060208201905081810360008301526126198161217e565b9050919050565b60006020820190508181036000830152612639816121b5565b9050919050565b60006020820190508181036000830152612659816121ec565b9050919050565b6000602082019050818103600083015261267981612223565b9050919050565b600060208201905081810360008301526126998161225a565b9050919050565b600060208201905081810360008301526126b981612291565b9050919050565b600060208201905081810360008301526126d9816122c8565b9050919050565b600060208201905081810360008301526126f9816122ff565b9050919050565b6000602082019050818103600083015261271981612336565b9050919050565b600060208201905081810360008301526127398161236d565b9050919050565b60006020820190508181036000830152612759816123a4565b9050919050565b60006020820190508181036000830152612779816123db565b9050919050565b6000602082019050818103600083015261279981612438565b9050919050565b600060208201905081810360008301526127ba818461246f565b905092915050565b60006020820190506127d7600083018461250b565b92915050565b60006020820190506127f2600083018461251a565b92915050565b600060408201905061280d600083018561251a565b61281a602083018461205d565b9392505050565b6000604051905081810181811067ffffffffffffffff8211171561284457600080fd5b8060405250919050565b600067ffffffffffffffff82111561286557600080fd5b602082029050602081019050919050565b600067ffffffffffffffff82111561288d57600080fd5b601f19601f8301169050602081019050919050565b6000602082019050919050565b600081519050919050565b600081519050919050565b600081519050919050565b6000602082019050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60008115159050919050565b60007fffffffffffffffffffffffffffffffffffffffff00000000000000000000000082169050919050565b6000819050919050565b6000819050919050565b600063ffffffff82169050919050565b600067ffffffffffffffff82169050919050565b60008115159050919050565b60007fffffffffffffffffffffffffffffffffffffffff00000000000000000000000082169050919050565b6000819050919050565b6000819050919050565b60006129c4826128dd565b9050919050565b60006129d682612949565b9050919050565b82818337600083830152505050565b60005b83811015612a0a5780820151818401526020810190506129ef565b83811115612a19576000848401525b50505050565b6000601f19601f83011690509190505600a265627a7a72305820c168158fcac402758fc23631059bd7bae922b01ef53f7aec3d9d447301b3f3b96c6578706572696d656e74616cf50037"
const verifierByteCode = "0x60806040523480156200001157600080fd5b5060405160208062002c45833981018060405262000033919081019062000126565b600073ffffffffffffffffffffffffffffffffffffffff166000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614151515620000c9576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401620000c09062000189565b60405180910390fd5b806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050620001cb565b60006200011e8251620001ab565b905092915050565b6000602082840312156200013957600080fd5b6000620001498482850162000110565b91505092915050565b6000601982527f46656465726174696f6e206d757374206e6f74206265203021000000000000006020830152604082019050919050565b60006020820190508181036000830152620001a48162000152565b9050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b612a6a80620001db6000396000f300608060405260043610610111576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806212117d14610116578063037a379614610141578063047ee7e81461016c57806326413cd014610197578063308ff0c9146101c2578063397d6e17146101ed578063550bed71146102185780635680b8aa1461024357806361cd41721461026e57806366c86119146102ab578063690ba608146102d65780636d2c93ac146103015780638d9ecc661461032c5780639c3db9a514610357578063a7c53a7514610382578063b11954b3146103bf578063c4c3c17e146103ea578063eea7f0ab14610415578063f18a25ce14610440578063ffa1ad741461046b575b600080fd5b34801561012257600080fd5b5061012b610496565b60405161013891906127c2565b60405180910390f35b34801561014d57600080fd5b5061015661049b565b60405161016391906127c2565b60405180910390f35b34801561017857600080fd5b506101816104a0565b60405161018e91906127c2565b60405180910390f35b3480156101a357600080fd5b506101ac6104a5565b6040516101b991906127c2565b60405180910390f35b3480156101ce57600080fd5b506101d76104aa565b6040516101e491906127c2565b60405180910390f35b3480156101f957600080fd5b506102026104af565b60405161020f91906127c2565b60405180910390f35b34801561022457600080fd5b5061022d6104b4565b60405161023a91906127c2565b60405180910390f35b34801561024f57600080fd5b506102586104b9565b60405161026591906127c2565b60405180910390f35b34801561027a57600080fd5b5061029560048036036102909190810190611f1f565b6104be565b6040516102a2919061258c565b60405180910390f35b3480156102b757600080fd5b506102c0610508565b6040516102cd91906125e5565b60405180910390f35b3480156102e257600080fd5b506102eb61052d565b6040516102f891906127c2565b60405180910390f35b34801561030d57600080fd5b50610316610532565b60405161032391906127c2565b60405180910390f35b34801561033857600080fd5b50610341610537565b60405161034e91906127c2565b60405180910390f35b34801561036357600080fd5b5061036c61053c565b60405161037991906127c2565b60405180910390f35b34801561038e57600080fd5b506103a960048036036103a49190810190611f71565b610541565b6040516103b691906127a0565b60405180910390f35b3480156103cb57600080fd5b506103d4610851565b6040516103e191906127c2565b60405180910390f35b3480156103f657600080fd5b506103ff610856565b60405161040c91906127c2565b60405180910390f35b34801561042157600080fd5b5061042a61085b565b60405161043791906127c2565b60405180910390f35b34801561044c57600080fd5b50610455610860565b60405161046291906127c2565b60405180910390f35b34801561047757600080fd5b50610480610865565b60405161048d91906127c2565b60405180910390f35b600181565b606481565b603481565b601481565b604181565b601481565b602081565b602481565b6000806c01000000000000000000000000026bffffffffffffffffffffffff1916826bffffffffffffffffffffffff191614156104fe5760009050610503565b600190505b919050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600481565b600281565b600481565b600881565b610549611bbb565b610551611c2e565b610559611c81565b610561611ca1565b61056a8861086a565b92506002836000015163ffffffff161415156105bb576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016105b290612720565b60405180910390fd5b6105c588886109df565b73__CryptoUtils___________________________636df6588e868560800151896040518463ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040161062093929190612547565b60206040518083038186803b15801561063857600080fd5b505af415801561064c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506106709190810190611ef6565b15156106b1576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016106a890612760565b60405180910390fd5b6106ba86610c13565b91506001826000015163ffffffff1614151561070b576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161070290612660565b60405180910390fd5b6107188260200151610ce8565b90506001816020015163ffffffff16141515610769576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161076090612700565b60405180910390fd5b8260400151846000019063ffffffff16908163ffffffff16815250508260200151846020019067ffffffffffffffff16908167ffffffffffffffff168152505080600001518460400181905250806060015184606001906bffffffffffffffffffffffff191690816bffffffffffffffffffffffff1916815250508060800151846080019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff16815250508060a001518460a0018181525050806040015167ffffffffffffffff168460c0018181525050505050949350505050565b600181565b601481565b602081565b600c81565b600181565b610872611c2e565b600080905061088a818461103d90919063ffffffff16565b826000019063ffffffff16908163ffffffff16815250506108b560048261105390919063ffffffff16565b90506108ca818461107490919063ffffffff16565b826020019067ffffffffffffffff16908167ffffffffffffffff16815250506108fd60088261105390919063ffffffff16565b9050610912818461103d90919063ffffffff16565b826040019063ffffffff16908163ffffffff168152505061093d60048261105390919063ffffffff16565b9050610952818461107490919063ffffffff16565b826060019067ffffffffffffffff16908167ffffffffffffffff168152505061098560088261105390919063ffffffff16565b905061099b60288261105390919063ffffffff16565b90506109b0818461108a90919063ffffffff16565b826080019060001916908160001916815250506109d760208261105390919063ffffffff16565b905050919050565b6109e7611d0d565b6000806109f3846110b3565b92506002856040518082805190602001908083835b602083101515610a2d5780518252602082019150602081019050602083039250610a08565b6001836020036101000a0380198251168184511680821785525050505050509050019150506020604051808303816000865af1158015610a71573d6000803e3d6000fd5b5050506040513d601f19601f82011682018060405250610a949190810190611f48565b915060028360200151836040516020018083600019166000191681526020018260001916600019168152602001925050506040516020818303038152906040526040518082805190602001908083835b602083101515610b095780518252602082019150602081019050602083039250610ae4565b6001836020036101000a0380198251168184511680821785525050505050509050019150506020604051808303816000865af1158015610b4d573d6000803e3d6000fd5b5050506040513d601f19601f82011682018060405250610b709190810190611f48565b90508260600151600019168160001916141515610bc2576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610bb990612620565b60405180910390fd5b610bcb836114f2565b1515610c0c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610c03906126c0565b60405180910390fd5b5050505050565b610c1b611c81565b60008060009150610c3660248361105390919063ffffffff16565b9150610c4b828561103d90919063ffffffff16565b836000019063ffffffff16908163ffffffff1681525050610c7660048361105390919063ffffffff16565b9150610c8b828561103d90919063ffffffff16565b9050610ca160048361105390919063ffffffff16565b9150610cbe828263ffffffff16866118ee9092919063ffffffff16565b8360200181905250610cdf8163ffffffff168361105390919063ffffffff16565b91505050919050565b610cf0611ca1565b6000806000806000809450610d0f60008861103d90919063ffffffff16565b9350610d2560048661105390919063ffffffff16565b9450610d42858563ffffffff16896118ee9092919063ffffffff16565b8660000181905250610d638463ffffffff168661105390919063ffffffff16565b9450610d78858861103d90919063ffffffff16565b866020019063ffffffff16908163ffffffff1681525050610da360048661105390919063ffffffff16565b9450610db8858861107490919063ffffffff16565b866040019067ffffffffffffffff16908167ffffffffffffffff1681525050610deb60088661105390919063ffffffff16565b9450610e00858861103d90919063ffffffff16565b925060148363ffffffff16141515610e4d576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610e4490612680565b60405180910390fd5b610e6160048661105390919063ffffffff16565b9450610e76858861197b90919063ffffffff16565b86606001906bffffffffffffffffffffffff191690816bffffffffffffffffffffffff191681525050610eb360148661105390919063ffffffff16565b9450610ec8858861103d90919063ffffffff16565b915060148263ffffffff16141515610f15576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610f0c906126a0565b60405180910390fd5b610f2960048661105390919063ffffffff16565b9450610f3e85886119da90919063ffffffff16565b866080019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff1681525050610f8960148661105390919063ffffffff16565b9450610f9e858861103d90919063ffffffff16565b905060208163ffffffff16141515610feb576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610fe290612780565b60405180910390fd5b610fff60048661105390919063ffffffff16565b94506110148588611a1290919063ffffffff16565b8660a001818152505061103160208661105390919063ffffffff16565b94505050505050919050565b600061104b83836004611a28565b905092915050565b600080828401905083811015151561106a57600080fd5b8091505092915050565b600061108283836008611a28565b905092915050565b600080602083018451101515156110a057600080fd5b8260208501015190508091505092915050565b6110bb611d0d565b600080600080600093506110d8848761103d90919063ffffffff16565b856000019063ffffffff16908163ffffffff168152505061110360048561105390919063ffffffff16565b9350611118848761103d90919063ffffffff16565b925060208363ffffffff16141515611165576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161115c90612640565b60405180910390fd5b61117960048561105390919063ffffffff16565b935061118e848761108a90919063ffffffff16565b856020019060001916908160001916815250506111b560208561105390919063ffffffff16565b93506111cb600c8561105390919063ffffffff16565b935060026111e5856034896118ee9092919063ffffffff16565b6040518082805190602001908083835b60208310151561121a57805182526020820191506020810190506020830392506111f5565b6001836020036101000a0380198251168184511680821785525050505050509050019150506020604051808303816000865af115801561125e573d6000803e3d6000fd5b5050506040513d601f19601f820116820180604052506112819190810190611f48565b856040019060001916908160001916815250506112a860148561105390919063ffffffff16565b93506112bd848761108a90919063ffffffff16565b856060019060001916908160001916815250506112e460208561105390919063ffffffff16565b93505b85518410156114e95761130460048561105390919063ffffffff16565b9350611319848761103d90919063ffffffff16565b915060148263ffffffff16141515611366576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161135d90612740565b60405180910390fd5b61137a60048561105390919063ffffffff16565b935061138f84876119da90919063ffffffff16565b8560a00151866080015160ff166064811015156113a857fe5b602002019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff16815250506113f360148561105390919063ffffffff16565b9350611408848761103d90919063ffffffff16565b905060418163ffffffff16141515611455576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161144c906126e0565b60405180910390fd5b61146960048561105390919063ffffffff16565b9350611481846041886118ee9092919063ffffffff16565b8560c00151866080015160ff1660648110151561149a57fe5b60200201819052506114b660418561105390919063ffffffff16565b93506114d36001866080015160ff1661105390919063ffffffff16565b856080019060ff16908160ff16815250506112e7565b50505050919050565b6000806000606060008060606000806000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663925f50728b600001516040518263ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040161157b91906127dd565b602060405180830381600087803b15801561159557600080fd5b505af11580156115a9573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506115cd9190810190612034565b975060009650896080015160ff166040519080825280602002602001820160405280156116095781602001602082028038833980820191505090505b509550600094505b896080015160ff168510156118dc578960a001518560648110151561163257fe5b602002015193508960c001518560648110151561164b57fe5b602002015192506000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663ddef11608b60000151866040518363ffffffff167c01000000000000000000000000000000000000000000000000000000000281526004016116ce9291906127f8565b602060405180830381600087803b1580156116e857600080fd5b505af11580156116fc573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506117209190810190611ef6565b151561172b576118d1565b73__CryptoUtils___________________________6365a18acf8b6040015185876040518463ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401611786939291906125a7565b60206040518083038186803b15801561179e57600080fd5b505af41580156117b2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506117d69190810190611ef6565b15156117e1576118d1565b60019150600090505b8481101561185157858181518110151561180057fe5b9060200190602002015173ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff1614156118465760009150611851565b8060010190506117ea565b81151561185d576118d1565b83868681518110151561186c57fe5b9060200190602002019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff16815250506118bc60018861105390919063ffffffff16565b965087871015156118d057600198506118e1565b5b846001019450611611565b600098505b5050505050505050919050565b60608082840185511015151561190357600080fd5b82156000811461191e5760405191506020820160405261196f565b6040519150601f8416801560200281840101858101878315602002848b0101015b8183101561195c578051835260208301925060208101905061193f565b50868552601f19601f8301166040525050505b50809150509392505050565b600080601483018451101515156119c7576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016119be90612600565b60405180910390fd5b8260208501015190508091505092915050565b600080601483018451101515156119f057600080fd5b6c01000000000000000000000000836020860101510490508091505092915050565b6000611a2083836020611a28565b905092915050565b60006060611a49611a448585886118ee9092919063ffffffff16565b611a61565b9050611a5781600085611b5d565b9150509392505050565b606080600083516040519080825280601f01601f191660200182016040528015611a9a5781602001602082028038833980820191505090505b509150600090505b8351811015611b53578381815181101515611ab957fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f0100000000000000000000000000000000000000000000000000000000000000028260018387510303815181101515611b1857fe5b9060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a905350806001019050611aa2565b8192505050919050565b600080828401855110151515611ba8576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611b9f90612600565b60405180910390fd5b8383860101519050809150509392505050565b60e060405190810160405280600063ffffffff168152602001600067ffffffffffffffff1681526020016060815260200160006bffffffffffffffffffffffff19168152602001600073ffffffffffffffffffffffffffffffffffffffff16815260200160008152602001600081525090565b60a060405190810160405280600063ffffffff168152602001600067ffffffffffffffff168152602001600063ffffffff168152602001600067ffffffffffffffff168152602001600080191681525090565b6040805190810160405280600063ffffffff168152602001606081525090565b60c06040519081016040528060608152602001600063ffffffff168152602001600067ffffffffffffffff16815260200160006bffffffffffffffffffffffff19168152602001600073ffffffffffffffffffffffffffffffffffffffff168152602001600081525090565b6119a060405190810160405280600063ffffffff168152602001600080191681526020016000801916815260200160008019168152602001600060ff168152602001611d57611d6a565b8152602001611d64611d8e565b81525090565b610c8060405190810160405280606490602082028038833980820191505090505090565b610c80604051908101604052806064905b6060815260200190600190039081611d9f5790505090565b600082601f8301121515611dca57600080fd5b8135611ddd611dd88261284e565b612821565b91508181835260208401935060208101905083856020840282011115611e0257600080fd5b60005b83811015611e325781611e188882611e64565b845260208401935060208301925050600181019050611e05565b5050505092915050565b6000611e48825161296d565b905092915050565b6000611e5c8235612979565b905092915050565b6000611e7082356129a5565b905092915050565b6000611e8482516129a5565b905092915050565b600082601f8301121515611e9f57600080fd5b8135611eb2611ead82612876565b612821565b91508082526020830160208301858383011115611ece57600080fd5b611ed98382846129dd565b50505092915050565b6000611eee82516129af565b905092915050565b600060208284031215611f0857600080fd5b6000611f1684828501611e3c565b91505092915050565b600060208284031215611f3157600080fd5b6000611f3f84828501611e50565b91505092915050565b600060208284031215611f5a57600080fd5b6000611f6884828501611e78565b91505092915050565b60008060008060808587031215611f8757600080fd5b600085013567ffffffffffffffff811115611fa157600080fd5b611fad87828801611e8c565b945050602085013567ffffffffffffffff811115611fca57600080fd5b611fd687828801611e8c565b935050604085013567ffffffffffffffff811115611ff357600080fd5b611fff87828801611e8c565b925050606085013567ffffffffffffffff81111561201c57600080fd5b61202887828801611db7565b91505092959194509250565b60006020828403121561204657600080fd5b600061205484828501611ee2565b91505092915050565b612066816128dd565b82525050565b612075816128dd565b82525050565b6000612086826128af565b808452602084019350612098836128a2565b60005b828110156120ca576120ae8683516120f4565b6120b7826128d0565b915060208601955060018101905061209b565b50849250505092915050565b6120df816128fd565b82525050565b6120ee81612909565b82525050565b6120fd81612935565b82525050565b600061210e826128ba565b8084526121228160208601602086016129ec565b61212b81612a1f565b602085010191505092915050565b612142816129b9565b82525050565b6000612153826128c5565b8084526121678160208601602086016129ec565b61217081612a1f565b602085010191505092915050565b6000600f82527f496e76616c6964206c656e6774682100000000000000000000000000000000006020830152604082019050919050565b6000601982527f426c6f636b206861736820646f65736e2774206d6174636821000000000000006020830152604082019050919050565b6000601282527f496e76616c696420686173682073697a652100000000000000000000000000006020830152604082019050919050565b6000601982527f496e76616c696420657865637574696f6e20726573756c7421000000000000006020830152604082019050919050565b6000601a82527f496e76616c6964204f72627320616464726573732073697a65210000000000006020830152604082019050919050565b6000601e82527f496e76616c696420457468657265756d20616464726573732073697a652100006020830152604082019050919050565b6000601282527f496e76616c6964207369676e61747572652100000000000000000000000000006020830152604082019050919050565b6000601782527f496e76616c6964207369676e61747572652073697a65210000000000000000006020830152604082019050919050565b6000601182527f496e76616c6964206576656e74204944210000000000000000000000000000006020830152604082019050919050565b6000601d82527f556e737570706f727465642070726f746f636f6c2076657273696f6e210000006020830152604082019050919050565b6000601582527f496e76616c696420616464726573732073697a652100000000000000000000006020830152604082019050919050565b6000602282527f496e76616c6964207472616e73616374696f6e20726563656970742070726f6f60208301527f66210000000000000000000000000000000000000000000000000000000000006040830152606082019050919050565b6000601382527f496e76616c69642076616c75652073697a6521000000000000000000000000006020830152604082019050919050565b600060e0830160008301516124876000860182612529565b50602083015161249a6020860182612538565b50604083015184820360408601526124b28282612148565b91505060608301516124c760608601826120e5565b5060808301516124da608086018261205d565b5060a08301516124ed60a086018261250b565b5060c083015161250060c086018261250b565b508091505092915050565b6125148161293f565b82525050565b612523816129cb565b82525050565b61253281612949565b82525050565b61254181612959565b82525050565b60006060820190508181036000830152612561818661207b565b905061257060208301856120f4565b81810360408301526125828184612103565b9050949350505050565b60006020820190506125a160008301846120d6565b92915050565b60006060820190506125bc60008301866120f4565b81810360208301526125ce8185612103565b90506125dd604083018461206c565b949350505050565b60006020820190506125fa6000830184612139565b92915050565b600060208201905081810360008301526126198161217e565b9050919050565b60006020820190508181036000830152612639816121b5565b9050919050565b60006020820190508181036000830152612659816121ec565b9050919050565b6000602082019050818103600083015261267981612223565b9050919050565b600060208201905081810360008301526126998161225a565b9050919050565b600060208201905081810360008301526126b981612291565b9050919050565b600060208201905081810360008301526126d9816122c8565b9050919050565b600060208201905081810360008301526126f9816122ff565b9050919050565b6000602082019050818103600083015261271981612336565b9050919050565b600060208201905081810360008301526127398161236d565b9050919050565b60006020820190508181036000830152612759816123a4565b9050919050565b60006020820190508181036000830152612779816123db565b9050919050565b6000602082019050818103600083015261279981612438565b9050919050565b600060208201905081810360008301526127ba818461246f565b905092915050565b60006020820190506127d7600083018461250b565b92915050565b60006020820190506127f2600083018461251a565b92915050565b600060408201905061280d600083018561251a565b61281a602083018461205d565b9392505050565b6000604051905081810181811067ffffffffffffffff8211171561284457600080fd5b8060405250919050565b600067ffffffffffffffff82111561286557600080fd5b602082029050602081019050919050565b600067ffffffffffffffff82111561288d57600080fd5b601f19601f8301169050602081019050919050565b6000602082019050919050565b600081519050919050565b600081519050919050565b600081519050919050565b6000602082019050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60008115159050919050565b60007fffffffffffffffffffffffffffffffffffffffff00000000000000000000000082169050919050565b6000819050919050565b6000819050919050565b600063ffffffff82169050919050565b600067ffffffffffffffff82169050919050565b60008115159050919050565b60007fffffffffffffffffffffffffffffffffffffffff00000000000000000000000082169050919050565b6000819050919050565b6000819050919050565b60006129c4826128dd565b9050919050565b60006129d682612949565b9050919050565b82818337600083830152505050565b60005b83811015612a0a5780820151818401526020810190506129ef565b83811115612a19576000848401525b50505050565b6000601f19601f83011690509190505600a265627a7a7230582085287a0cf0e8eac868fd4655c0fde0b72a355154076e4047e49cf9cd0ea2a3ac6c6578706572696d656e74616cf50037"

//const verifierABI = `[{"constant":true,"inputs":[],"name":"EXECUTION_RESULT_SUCCESS","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"MAX_SIGNATURES","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"BLOCKREFMESSAGE_SIZE","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"ORBS_ADDRESS_SIZE","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"SIGNATURE_SIZE","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"BLOCKHASH_OFFSET","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"SHA256_SIZE","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"EXECUTION_RESULT_OFFSET","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"federation","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"UINT32_SIZE","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"ORBS_PROTOCOL_VERSION","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"NODE_PK_SIG_NESTING_SIZE","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"UINT64_SIZE","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"TRANSFERRED_OUT","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"ADDRESS_SIZE","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"UINT256_SIZE","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"ONEOF_NESTING_SIZE","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"VERSION","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"_federation","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"constant":true,"inputs":[{"name":"_resultsBlockHeader","type":"bytes"},{"name":"_resultsBlockProof","type":"bytes"},{"name":"_transactionReceipt","type":"bytes"},{"name":"_transactionReceiptProof","type":"bytes32[]"}],"name":"processProof","outputs":[{"components":[{"name":"networkType","type":"uint32"},{"name":"virtualChainId","type":"uint64"},{"name":"orbsContractName","type":"string"},{"name":"from","type":"bytes20"},{"name":"to","type":"address"},{"name":"value","type":"uint256"},{"name":"tuid","type":"uint256"}],"name":"transferInEvent","type":"tuple"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_address","type":"bytes20"}],"name":"isOrbsAddressValid","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"pure","type":"function"}]`
const verifierABINoTuple = `[{"constant":true,"inputs":[],"name":"EXECUTION_RESULT_SUCCESS","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"MAX_SIGNATURES","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"BLOCKREFMESSAGE_SIZE","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"ORBS_ADDRESS_SIZE","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"SIGNATURE_SIZE","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"BLOCKHASH_OFFSET","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"SHA256_SIZE","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"EXECUTION_RESULT_OFFSET","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"federation","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"UINT32_SIZE","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"ORBS_PROTOCOL_VERSION","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"NODE_PK_SIG_NESTING_SIZE","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"UINT64_SIZE","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"TRANSFERRED_OUT","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"ADDRESS_SIZE","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"UINT256_SIZE","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"ONEOF_NESTING_SIZE","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"VERSION","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"_federation","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"constant":true,"inputs":[{"name":"_address","type":"bytes20"}],"name":"isOrbsAddressValid","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"pure","type":"function"}]`

const federationABI = `[{"constant":true,"inputs":[],"name":"MAX_FEDERATION_MEMBERS","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"},{"name":"","type":"uint256"}],"name":"membersByRevision","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"members","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"renounceOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"isOwner","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"federationRevision","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"subscriptionManager","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"VERSION","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"_members","type":"address[]"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"name":"member","type":"address"}],"name":"MemberAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"member","type":"address"}],"name":"MemberRemoved","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"previousOwner","type":"address"},{"indexed":true,"name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"constant":true,"inputs":[],"name":"getMembers","outputs":[{"name":"","type":"address[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getConsensusThreshold","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getFederationRevision","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_federationRevision","type":"uint256"},{"name":"_member","type":"address"}],"name":"isMemberByRevision","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_federationRevision","type":"uint256"}],"name":"getMembersByRevision","outputs":[{"name":"","type":"address[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_federationRevision","type":"uint256"}],"name":"getConsensusThresholdByRevision","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_member","type":"address"}],"name":"addMember","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_member","type":"address"}],"name":"removeMember","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_i","type":"uint256"}],"name":"removeMemberByIndex","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_newSubscriptionManager","type":"address"}],"name":"upgradeSubscriptionManager","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_member","type":"address"}],"name":"isMember","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"}]`
const federationBytecode = "0x608060405260006003553480156200001657600080fd5b5060405162001c2838038062001c2883398101806040528101908080518201929190505050336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a36200011181620001a6640100000000026401000000009004565b151562000186576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260208152602001807f496e76616c69642066656465726174696f6e206d656d62657273206c6973742181525060200191505060405180910390fd5b80600290805190602001906200019e929190620002d7565b5050620003ac565b60008060008084511480620001bc575060648451115b15620001cc5760009250620002d0565b600091505b8351821015620002cb57600073ffffffffffffffffffffffffffffffffffffffff1684838151811015156200020257fe5b9060200190602002015173ffffffffffffffffffffffffffffffffffffffff161415620002335760009250620002d0565b6001820190505b8351811015620002bf5783818151811015156200025357fe5b9060200190602002015173ffffffffffffffffffffffffffffffffffffffff1684838151811015156200028257fe5b9060200190602002015173ffffffffffffffffffffffffffffffffffffffff161415620002b35760009250620002d0565b8060010190506200023a565b816001019150620001d1565b600192505b5050919050565b82805482825590600052602060002090810192821562000353579160200282015b82811115620003525782518260006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555091602001919060010190620002f8565b5b50905062000362919062000366565b5090565b620003a991905b80821115620003a557600081816101000a81549073ffffffffffffffffffffffffffffffffffffffff0219169055506001016200036d565b5090565b90565b61186c80620003bc6000396000f30060806040526004361061011d576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680630113540d146101225780630b1ca49a1461014f578063214c540014610192578063265751cf146101bd578063549ad63d146101e85780635daf08ca1461025f578063715018a6146102cc5780638da5cb5b146102e35780638f32d59b1461033a5780638f931c3614610369578063925f5072146103945780639eab5253146103d5578063a230c52414610441578063bf158fd21461049c578063c85c0124146104f3578063ca6d56dc14610575578063d42791e1146105b8578063ddef1160146105e3578063f2fde38b14610648578063ff62b9fc1461068b578063ffa1ad74146106ce575b600080fd5b34801561012e57600080fd5b5061014d600480360381019080803590602001909291905050506106f9565b005b34801561015b57600080fd5b50610190600480360381019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919050505061087c565b005b34801561019e57600080fd5b506101a7610b45565b6040518082815260200191505060405180910390f35b3480156101c957600080fd5b506101d2610b4f565b6040518082815260200191505060405180910390f35b3480156101f457600080fd5b5061021d6004803603810190808035906020019092919080359060200190929190505050610b54565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34801561026b57600080fd5b5061028a60048036038101908080359060200190929190505050610ba1565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b3480156102d857600080fd5b506102e1610bdf565b005b3480156102ef57600080fd5b506102f8610cb1565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34801561034657600080fd5b5061034f610cda565b604051808215151515815260200191505060405180910390f35b34801561037557600080fd5b5061037e610d31565b6040518082815260200191505060405180910390f35b3480156103a057600080fd5b506103bf60048036038101908080359060200190929190505050610d37565b6040518082815260200191505060405180910390f35b3480156103e157600080fd5b506103ea610d51565b6040518080602001828103825283818151815260200191508051906020019060200280838360005b8381101561042d578082015181840152602081019050610412565b505050509050019250505060405180910390f35b34801561044d57600080fd5b50610482600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610ddf565b604051808215151515815260200191505060405180910390f35b3480156104a857600080fd5b506104b1610e78565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b3480156104ff57600080fd5b5061051e60048036038101908080359060200190929190505050610e9e565b6040518080602001828103825283818151815260200191508051906020019060200280838360005b83811015610561578082015181840152602081019050610546565b505050509050019250505060405180910390f35b34801561058157600080fd5b506105b6600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610f50565b005b3480156105c457600080fd5b506105cd611266565b6040518082815260200191505060405180910390f35b3480156105ef57600080fd5b5061062e60048036038101908080359060200190929190803573ffffffffffffffffffffffffffffffffffffffff1690602001909291905050506112fc565b604051808215151515815260200191505060405180910390f35b34801561065457600080fd5b50610689600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050611318565b005b34801561069757600080fd5b506106cc600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050611337565b005b3480156106da57600080fd5b506106e36114bc565b6040518082815260200191505060405180910390f35b60028054905081101515610775576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260138152602001807f496e646578206f7574206f662072616e6765210000000000000000000000000081525060200191505060405180910390fd5b5b6001600280549050038110156108275760026001820181548110151561079857fe5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff166002828154811015156107d257fe5b9060005260206000200160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508080600101915050610776565b60028181548110151561083657fe5b9060005260206000200160006101000a81549073ffffffffffffffffffffffffffffffffffffffff02191690556002805480919060019003610878919061175a565b5050565b600080610887610cda565b151561089257600080fd5b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1614151515610937576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260168152602001807f41646472657373206d757374206e6f742062652030210000000000000000000081525060200191505060405180910390fd5b60006001600280549050031115156109b7576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260198152602001807f43616e27742072656d6f766520616c6c206d656d62657273210000000000000081525060200191505060405180910390fd5b610a476002805480602002602001604051908101604052809291908181526020018280548015610a3c57602002820191906000526020600020905b8160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190600101908083116109f2575b5050505050846114c1565b91509150801515610ac0576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260158152602001807f4d656d62657220646f65736e277420657869737421000000000000000000000081525060200191505060405180910390fd5b60026004600060036000815480929190600101919050558152602001908152602001600020908054610af3929190611786565b50610afd826106f9565b8273ffffffffffffffffffffffffffffffffffffffff167f6e76fb4c77256006d9c38ec7d82b45a8c8f3c27b1d6766fffc42dfb8de68449260405160405180910390a2505050565b6000600354905090565b606481565b600460205281600052604060002081815481101515610b6f57fe5b906000526020600020016000915091509054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600281815481101515610bb057fe5b906000526020600020016000915054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b610be7610cda565b1515610bf257600080fd5b600073ffffffffffffffffffffffffffffffffffffffff166000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a360008060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550565b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614905090565b60035481565b6000610d4a610d4583610e9e565b611545565b9050919050565b60606002805480602002602001604051908101604052809291908181526020018280548015610dd557602002820191906000526020600020905b8160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019060010190808311610d8b575b5050505050905090565b6000610e716002805480602002602001604051908101604052809291908181526020018280548015610e6657602002820191906000526020600020905b8160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019060010190808311610e1c575b50505050508361159c565b9050919050565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60608160035414610ec15760046000838152602001908152602001600020610ec4565b60025b805480602002602001604051908101604052809291908181526020018280548015610f4457602002820191906000526020600020905b8160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019060010190808311610efa575b50505050509050919050565b6000610f5a610cda565b1515610f6557600080fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415151561100a576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260168152602001807f41646472657373206d757374206e6f742062652030210000000000000000000081525060200191505060405180910390fd5b60646001600280549050011115151561108b576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260178152602001807f43616e277420616464206d6f7265206d656d626572732100000000000000000081525060200191505060405180910390fd5b600090505b600280549050811015611185578173ffffffffffffffffffffffffffffffffffffffff166002828154811015156110c357fe5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff161415151561117a576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601d8152602001807f43616e2774206164642061206475706c6963617465206d656d6265722100000081525060200191505060405180910390fd5b806001019050611090565b600260046000600360008154809291906001019190505581526020019081526020016000209080546111b8929190611786565b5060028290806001815401808255809150509060018203906000526020600020016000909192909190916101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550508173ffffffffffffffffffffffffffffffffffffffff167fb251eb052afc73ffd02ffe85ad79990a8b3fed60d76dbc2fa2fdd7123dffd91460405160405180910390a25050565b60006112f760028054806020026020016040519081016040528092919081815260200182805480156112ed57602002820191906000526020600020905b8160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190600101908083116112a3575b5050505050611545565b905090565b600061131061130a84610e9e565b8361159c565b905092915050565b611320610cda565b151561132b57600080fd5b611334816115b6565b50565b61133f610cda565b151561134a57600080fd5b600073ffffffffffffffffffffffffffffffffffffffff16600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614151561147857600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16630900f010826040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001915050600060405180830381600087803b15801561145f57600080fd5b505af1158015611473573d6000803e3d6000fd5b505050505b80600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b600181565b60008060008090505b8451811015611535578373ffffffffffffffffffffffffffffffffffffffff1685828151811015156114f857fe5b9060200190602002015173ffffffffffffffffffffffffffffffffffffffff16141561152a578060019250925061153d565b8060010190506114ca565b806000925092505b509250929050565b600061159560036115876001611579600361156b600289516116b090919063ffffffff16565b6116ee90919063ffffffff16565b61170f90919063ffffffff16565b61173090919063ffffffff16565b9050919050565b6000806115a984846114c1565b9150508091505092915050565b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16141515156115f257600080fd5b8073ffffffffffffffffffffffffffffffffffffffff166000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a3806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b60008060008414156116c557600091506116e7565b82840290508284828115156116d657fe5b041415156116e357600080fd5b8091505b5092915050565b600080828401905083811015151561170557600080fd5b8091505092915050565b60008083831115151561172157600080fd5b82840390508091505092915050565b60008060008311151561174257600080fd5b828481151561174d57fe5b0490508091505092915050565b8154818355818111156117815781836000526020600020918201910161178091906117d8565b5b505050565b8280548282559060005260206000209081019282156117c75760005260206000209182015b828111156117c65782548255916001019190600101906117ab565b5b5090506117d491906117fd565b5090565b6117fa91905b808211156117f65760008160009055506001016117de565b5090565b90565b61183d91905b8082111561183957600081816101000a81549073ffffffffffffffffffffffffffffffffffffffff021916905550600101611803565b5090565b905600a165627a7a72305820c293450ebef0914e2109d20f880b826220ba5b5a933a422105de490204854c8c0029"

const cryptoUtilsABI = `[{"constant":true,"inputs":[],"name":"UNCOMPRESSED_PUBLIC_KEY_SIZE","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_hash","type":"bytes32"},{"name":"_signature","type":"bytes"},{"name":"_address","type":"address"}],"name":"isSignatureValid","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"pure","type":"function"},{"constant":true,"inputs":[{"name":"_publicKey","type":"bytes"}],"name":"toAddress","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"pure","type":"function"},{"constant":true,"inputs":[{"name":"_proof","type":"bytes32[]"},{"name":"_root","type":"bytes32"},{"name":"_leaf","type":"bytes"}],"name":"isMerkleProofValid","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"pure","type":"function"},{"constant":true,"inputs":[{"name":"_proof","type":"bytes32[]"},{"name":"_root","type":"bytes32"},{"name":"_leafHash","type":"bytes32"}],"name":"isMerkleProofValid","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"pure","type":"function"}]`
const cryptoUtilsBytecode = `0x610886610030600b82828239805160001a6073146000811461002057610022565bfe5b5030600052607381538281f3007300000000000000000000000000000000000000003014608060405260043610610084576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680632d8888691461008957806365a18acf146101255780636df6588e146101c75780636f3e954d1461028c578063ab208d2e146102b0575b600080fd5b6100e3600480360381019080803590602001908201803590602001908080601f016020809104026020016040519081016040528093929190818152602001838380828437820191505050505050919291929050505061033d565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b6101ad6004803603810190808035600019169060200190929190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803573ffffffffffffffffffffffffffffffffffffffff1690602001909291905050506103c5565b604051808215151515815260200191505060405180910390f35b610272600480360381019080803590602001908201803590602001908080602002602001604051908101604052809392919081815260200183836020028082843782019150505050505091929192908035600019169060200190929190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290505050610485565b604051808215151515815260200191505060405180910390f35b61029461053c565b604051808260ff1660ff16815260200191505060405180910390f35b6103236004803603810190808035906020019082018035906020019080806020026020016040519081016040528093929190818152602001838360200280828437820191505050505050919291929080356000191690602001909291908035600019169060200190929190505050610541565b604051808215151515815260200191505060405180910390f35b6000604060ff16825114151561035657600090506103c0565b816040518082805190602001908083835b60208310151561038c5780518252602082019150602081019050602083039250610367565b6001836020036101000a03801982511681845116808217855250505050505090500191505060405180910390206001900490505b919050565b600080600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415610406576000915061047d565b6104108585610762565b9050600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff161415801561047a57508273ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16145b91505b509392505050565b600061053384846002856040518082805190602001908083835b6020831015156104c4578051825260208201915060208101905060208303925061049f565b6001836020036101000a0380198251168184511680821785525050505050509050019150506020604051808303816000865af1158015610508573d6000803e3d6000fd5b5050506040513d602081101561051d57600080fd5b8101908080519060200190929190505050610541565b90509392505050565b604081565b600080600080849250600091505b865182101561074b57868281518110151561056657fe5b90602001906020020151905080600019168360001916101561066257600283826040516020018083600019166000191681526020018260001916600019168152602001925050506040516020818303038152906040526040518082805190602001908083835b6020831015156105f157805182526020820191506020810190506020830392506105cc565b6001836020036101000a0380198251168184511680821785525050505050509050019150506020604051808303816000865af1158015610635573d6000803e3d6000fd5b5050506040513d602081101561064a57600080fd5b8101908080519060200190929190505050925061073e565b600281846040516020018083600019166000191681526020018260001916600019168152602001925050506040516020818303038152906040526040518082805190602001908083835b6020831015156106d157805182526020820191506020810190506020830392506106ac565b6001836020036101000a0380198251168184511680821785525050505050509050019150506020604051808303816000865af1158015610715573d6000803e3d6000fd5b5050506040513d602081101561072a57600080fd5b810190808051906020019092919050505092505b818060010192505061054f565b856000191683600019161493505050509392505050565b6000806000806041855114151561077c5760009350610851565b6020850151925060408501519150606085015160001a9050601b8160ff1610156107a757601b810190505b601b8160ff16141580156107bf5750601c8160ff1614155b156107cd5760009350610851565b600186828585604051600081526020016040526040518085600019166000191681526020018460ff1660ff1681526020018360001916600019168152602001826000191660001916815260200194505050505060206040516020810390808403906000865af1158015610844573d6000803e3d6000fd5b5050506020604051035193505b505050929150505600a165627a7a7230582098b04e05faceed9543d5acd9b9b6968a757e2a522f829f0a415760233a4c132a0029`
